(function(t){function e(e){for(var s,n,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1788:function(t,e,a){t.exports=a.p+"img/home_brain.73746289.gif"},"1a12":function(t,e,a){},2878:function(t,e,a){"use strict";var s=a("a174"),i=a.n(s);i.a},"38fe":function(t,e,a){},"3b95":function(t,e,a){"use strict";var s=a("38fe"),i=a.n(s);i.a},"568f":function(t,e,a){"use strict";var s=a("c457"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"black"},attrs:{id:"app"}},[a("navbar"),t._v(" "),a("router-view")],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar gameFont navbar-expand-lg mb-1 text-dark font-weight-bold",staticStyle:{"border-bottom":"solid 2px white","background-image":"radial-gradient(white, gray, black)"}},[a("router-link",{staticClass:"navbar-brand",staticStyle:{"font-size":"2.5rem",color:"rgb(0, 0, 206)"},attrs:{to:{name:"home"}}},[t._v("MYB")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto align-content-center"},[a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("Leader")],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("about")],1),t._v(" "),a("li",{staticClass:"nav-item"},[t.$auth.isAuthenticated?a("Profile"):t._e()],1),t._v(" "),"/"!=t.$route.path?a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Quit")])],1):t._e(),t._v(" "),t.$auth.isAuthenticated?a("li",{staticClass:"col-sm-12 nav-item",staticStyle:{"margin-top":"auto",color:"blue"}},[t.points?a("h4",[t._v("\n        Total Points:\n        "),a("span",{staticClass:"text-dark"},[t._v(t._s(t.points))])]):a("h4",[t._v("Total Points: 0")])]):t._e()]),t._v(" "),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-dark text-info",attrs:{ontouchstart:"logout"},on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",attrs:{ontouchstart:"login"},on:{click:t.login}},[t._v("Login")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler btn btn-outline-info pb-1",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",[a("i",{staticClass:"fa fa-bars fa-2x",attrs:{"aria-hidden":"true"}})])])}],l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#aboutmodal"}},[t._v("About")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"aboutmodal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-success",attrs:{id:"aboutmodal"}},[t._v("Directions")])]),t._v(" "),a("div",{staticClass:"modal-body text-justify text-light"},[a("p",[t._v("Welcome to 'Mind Your Body', the total app for the whole person. Press 'start' to receive a question that tests your knowledge. When you are ready, press 'start exercise' and you will be given a physical exercise. While you exercise, consider the answer to the question. When you finish the exercise, press 'complete' and choose the best answer to your question. A right answer earns you 5 points for an easy question, 10 points for an intermediate question, and 20 points for a difficult question. You may change the exercise before beginning. Repeat as many times as you like for a full workout of both your body and your brain.")])]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])}],d={name:"about",data(){return{}},computed:{},methods:{},components:{}},u=d,m=a("2877"),h=Object(m["a"])(u,l,c,!1,null,"cc4e645a",null),v=h.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#leaderboardmodal"}},[t._v("Leaderboard")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"leaderboardmodal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content bg-dark leaderFont"},[a("h5",{staticClass:"modal-title",attrs:{id:"leaderboardmodal"}}),t._v(" "),t._m(0),t._v(" "),a("h3",[a("ol",t._l(t.leaders,(function(e){return a("div",{key:e.id,attrs:{leader:e}},[a("div",{staticClass:"card bg-light text-dark mr-5"},[a("div",{staticClass:"d-flex pt-2",staticStyle:{"justify-content":"space-between"}},[a("div",[a("h5",[a("span",{staticClass:"ml-2"},[t._v(t._s(e.name))])])]),t._v(" "),a("div",{staticClass:"mr-3"},[a("h5",[a("span",{staticClass:"text-success"},[t._v(t._s(e.points))])])])])])])})))]),t._v(" "),a("button",{staticClass:"btn btn-success mx-4 mb-2",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body text-success"},[a("b",[t._v("TOP POINT EARNERS")])])}],f={name:"Leader",mounted(){},computed:{leaders(){return this.$store.state.leaders},points(){return this.$store.state.currentPlayer.points}},methods:{},components:{}},w=f,b=Object(m["a"])(w,p,g,!1,null,null,null),y=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#profileModal"}},[t._v("Stats")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"profileModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog p-lg-5",staticStyle:{"min-width":"-webkit-fill-available"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("h2",{staticClass:"p-2"},[a("b",{staticClass:"text-info"},[t._v(t._s(t.playerStats.name))])]),t._v(" "),a("h3",{staticClass:"p-2 text-light"},[t._v("\n            Total Points:\n            "),a("b",{staticClass:"text-success"},[t._v(t._s(t.playerStats.points))])]),t._v(" "),a("h5",{staticClass:"p-1 text-light"},[t._v("\n            Question Streak:  \n            "),a("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.streak))]),t._v(" /\n            "),a("span",{staticClass:"text-warning"},[t._v("5")]),t._v(" Questions Correct\n          ")]),t._v(" "),a("h5",{staticClass:"p-1 text-light"},[t._v("\n            MEGA-Streak:  \n            "),a("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.megaStreak))]),t._v(" /\n            "),a("span",{staticClass:"text-warning"},[t._v("5")]),t._v(" Streaks Complete\n          ")]),t._v(" "),a("table",{staticClass:"table mt-5"},[t._m(1),t._v(" "),a("tbody",t._l(t.playerStats.categoryStats,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-info"},[t._v(t._s(e.category))]),t._v(" "),a("td",{staticClass:"text-danger"},[t._v(t._s(e.attempted))]),t._v(" "),a("td",{staticClass:"text-success"},[t._v(t._s(e.correct))]),t._v(" "),a("td",{staticClass:"text-warning",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(Math.trunc(e.correct/e.attempted*100))+" %")])])})))])]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-success",attrs:{id:"exampleModalLabel"}},[t._v("Profile Stats")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Categories")]),t._v(" "),a("th",[t._v("Attempted")]),t._v(" "),a("th",[t._v("Correct")]),t._v(" "),a("th",[t._v("%")])])])}],k={name:"profile",data(){return{}},computed:{playerStats(){return this.$store.state.currentPlayer},categoryLibrary(){return this.$store.state.categoryLibrary}},methods:{},components:{}},x=k,S=Object(m["a"])(x,_,C,!1,null,"3d50a3f9",null),P=S.exports,E=a("bc3a"),M=a.n(E);M.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var T={name:"Navbar",data(){return{player:this.$store.state.currentPlayer}},mounted(){this.$store.dispatch("getLeaders")},computed:{points(){return this.$store.state.currentPlayer.points}},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout({returnTo:window.location.origin})}},components:{about:v,Leader:y,Profile:P}},I=T,F=(a("5dfc"),Object(m["a"])(I,n,r,!1,null,null,null)),A=F.exports,j=a("335d"),O=a("1940"),V=a.n(O),L=(a("a0bc"),{name:"App",async beforeCreate(){await Object(j["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:A},methods:{}}),N=L,z=(a("5c0b"),Object(m["a"])(N,i,o,!1,null,null,null)),D=z.exports,R=a("8c4f"),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid gameFont",staticStyle:{"min-height":"100vh"},attrs:{id:"home"}},[a("div",{staticClass:"row justify-content-center pt-3"},[a("div",{staticClass:"col-sm-4 col-md-3"},[a("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{type:"button"},on:{click:t.invite}},[t._m(0)])]),t._v(" "),a("div",{staticClass:"col-sm-4 col-md-3"},[a("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{type:"button"},on:{click:t.join}},[t._m(1)])])]),t._v(" "),a("div",[a("Selector",{key:"select_home",on:{setTopic:function(e){t.setParams(e)}}})],1),t._v(" "),a("div",{staticClass:"row mt-3",staticStyle:{"justify-content":"space-evenly"}},[a("div",{staticClass:"col-xs-12 mt-3"},[a("button",{staticClass:"btn btn-block btn-outline-info",attrs:{type:"button"},on:{click:function(e){t.startPlay()}}},[t._m(2)]),t._v(" "),a("h1",{staticClass:"comeInStyle my-2"},[t._v("MIND YOUR BODY")]),t._v(" "),t._m(3)])])])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"py-0"},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),t._v("  Invite\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"py-0"},[a("i",{staticClass:"fa fa-handshake-o",attrs:{"aria-hidden":"true"}}),t._v("  Join \n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"pt-2 pb-1"},[a("i",{staticClass:"fa fa-superpowers",attrs:{"aria-hidden":"true"}}),t._v("\n          START  \n        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fadeBox"},[s("img",{staticClass:"fadeIn",staticStyle:{width:"30vw","border-radius":"90%"},attrs:{src:a("1788")}})])}],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selector row mt-3",staticStyle:{"justify-content":"space-evenly"}},[a("div",{staticClass:"col-sm-12 col-md-3 text-warning"},[t._m(0),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],staticClass:"form-control dropDown",staticStyle:{border:"solid 1px white",color:"lightblue",background:"black"},attrs:{name:"category_id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subject=e.target.multiple?a:a[0]},t.chooseSubject]}},[a("option",{domProps:{value:!1}},[t._v("Random")]),t._v(" "),a("option",{attrs:{value:"9"}},[t._v("general knowledge")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("Books")]),t._v(" "),a("option",{attrs:{value:"11"}},[t._v("Film")]),t._v(" "),a("option",{attrs:{value:"12"}},[t._v("Music")]),t._v(" "),a("option",{attrs:{value:"13"}},[t._v("Musicals & Theatre")]),t._v(" "),a("option",{attrs:{value:"14"}},[t._v("Television")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("Video Games")]),t._v(" "),a("option",{attrs:{value:"16"}},[t._v("Board Games")]),t._v(" "),a("option",{attrs:{value:"17"}},[t._v("Science & Nature")]),t._v(" "),a("option",{attrs:{value:"18"}},[t._v("Computers")]),t._v(" "),a("option",{attrs:{value:"19"}},[t._v("Mathematics")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("Mythology")]),t._v(" "),a("option",{attrs:{value:"21"}},[t._v("Sports")]),t._v(" "),a("option",{attrs:{value:"22"}},[t._v("Geography")]),t._v(" "),a("option",{attrs:{value:"23"}},[t._v("History")]),t._v(" "),a("option",{attrs:{value:"24"}},[t._v("Politics")]),t._v(" "),a("option",{attrs:{value:"25"}},[t._v("Art")]),t._v(" "),a("option",{attrs:{value:"26"}},[t._v("Celebrities")]),t._v(" "),a("option",{attrs:{value:"27"}},[t._v("Animals")]),t._v(" "),a("option",{attrs:{value:"28"}},[t._v("Vehicles")]),t._v(" "),a("option",{attrs:{value:"29"}},[t._v("Entertainment")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("Gadgets")]),t._v(" "),a("option",{attrs:{value:"31"}},[t._v("Japanese Anime & Manga")]),t._v(" "),a("option",{attrs:{value:"32"}},[t._v("Cartoon & Animations")])])]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-3 text-warning"},[t._m(1),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],staticClass:"form-control dropDown",staticStyle:{border:"solid 1px white",color:"lightblue",background:"black"},attrs:{name:"category_id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.level=e.target.multiple?a:a[0]},t.chooseLevel]}},[a("option",{domProps:{value:!1}},[t._v("Random")]),t._v(" "),a("option",{attrs:{value:"easy"}},[t._v("easy")]),t._v(" "),a("option",{attrs:{value:"medium"}},[t._v("medium")]),t._v(" "),a("option",{attrs:{value:"hard"}},[t._v("hard")])])])])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v("  CATEGORY\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"fa fa-arrows-v",attrs:{"aria-hidden":"true"}}),t._v("  LEVEL\n    ")])}],H={name:"selector",data(){return{subject:!1,level:!1}},computed:{},methods:{chooseLevel(){this.$emit("setTopic",{level:this.level})},chooseSubject(){this.$emit("setTopic",{subject:this.subject})}},components:{}},U=H,Q=Object(m["a"])(U,q,G,!1,null,"30ca2676",null),W=Q.exports,J={gifs:["https://cdn.dribbble.com/users/706471/screenshots/3660298/brain-workout-2.gif","https://exploringyourmind.com/wp-content/uploads/2018/02/gif-of-a-brain-and-its-synapses.gif","https://www.holisticwebpresence.com/wp-content/uploads/2013/12/Web-Presence-Brain-Training.gif","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.dribbble.com%2Fusers%2F428994%2Fscreenshots%2F4898847%2Fbraintraining_dribble.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.assignmentexpert.com%2Fblog%2Fwp-content%2Fuploads%2F2015%2F05%2F240_Logo-EMM.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.prana-yoga-zentrum.de%2Fimages%2F57.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fneurosynthesis.files.wordpress.com%2F2008%2F10%2Fsmall_brain_animated.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.media.inaf.it%2Fwp-content%2Fuploads%2F2017%2F11%2Fprev-nasa-small.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fl0HU5526qfCzI25Q4%2Fgiphy.gif&f=1&nofb=1","https://upload.wikimedia.org/wikipedia/commons/a/ae/Inferior_frontal_gyrus_animation_small.gif"],getGif:function(){let t=this.gifs[Math.floor(Math.random()*this.gifs.length)];return t}},X={name:"home",data(){return{level:!1,subject:!1}},computed:{},methods:{alertLogin(){swal({title:"You Must First Login.",icon:"warning",buttons:{confirm:{text:"Okay"}}})},async login(){await this.$auth.loginWithPopup().then(()=>{this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)})},setParams(t){t.subject&&(this.subject=t.subject),t.level&&(this.level=t.level)},async invite(){if(!this.$auth.isAuthenticated){await this.login();if(!this.$auth.isAuthenticated)return}let t=Math.random().toString(36).substr(2,16),e=document.createElement("div");e.className="col-12";let a=document.createElement("h4");a.innerHTML='Send Your Friend The Folowing Link To Join You:<br/><i class="fa fa-key" aria-hidden="true"></i>';let s=document.createElement("textarea");s.className="home-link",s.value=`${window.origin}/#/game/${t}/invitee`,e.appendChild(a),e.appendChild(s),swal({icon:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Ficons.iconarchive.com%2Ficons%2Foxygen-icons.org%2Foxygen%2F256%2FApps-preferences-desktop-notification-icon.png&f=1&nofb=1",content:e,className:"home-swal",buttons:{one:{text:"Cancel",value:!1},zero:{text:"Confirm",value:!0}}}).then(e=>{e?(window.stream=new Object,window.stream.class="inviter",window.stream.myId=t,window.stream.myLink=`${window.origin}/#/game/${t}/invitee`,this.startPlay(),swal.close()):swal.close()})},async join(){if(!this.$auth.isAuthenticated){await this.login();if(!this.$auth.isAuthenticated)return}let t=document.createElement("input");t.id="peerId";let e=Math.random().toString(36).substr(2,16);swal({title:"Enter The Id Of The Peer You Want To Join",content:t,className:"home-swal",buttons:!0}).then(t=>{let a=document.getElementById("peerId").value;a?(window.stream=new Object,window.stream.class="invitee",window.stream.myId=e,ce.push("/game/"+a+"/invitee"),swal.close()):swal.close()})},async startPlay(){if(!this.$auth.isAuthenticated){await this.login();if(!this.$auth.isAuthenticated)return void this.alertLogin()}if(void 0==window.stream&&(window.stream={},window.stream.class=!1),this.subject?this.$store.dispatch("setSubject",this.subject):this.$store.dispatch("setSubject",Math.floor(23*Math.random())+9),this.level)this.$store.dispatch("setLevel",this.level);else{let t=Math.floor(3*Math.random());switch(t){case 0:t="easy";break;case 1:t="medium";break;case 2:t="hard";break;default:t="medium"}this.$store.dispatch("setLevel",t)}if(console.log(this.$store.state.subject,this.$store.state.level),!this.$store.state.triviaToken){const t=await fetch("https://opentdb.com/api_token.php?command=request");let e=await t.json();this.$store.dispatch("triviaToken",e.token)}window.stream.class?ce.push("/game/"+window.stream.myId+"/inviter"):ce.push({name:"game"})}},beforeCreate(){},created(){},beforeMount(){},mounted(){this.$store.dispatch("loadLeaders")},components:{Selector:W}},K=X,Z=(a("cccb"),Object(m["a"])(K,B,Y,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("div",{staticClass:"gameFont text-light",staticStyle:{"min-height":"100vh"}},[s("h1",{staticClass:"mt-4"},[t._v("End of Round")]),t._v(" "),t.answer?s("h3",[t._v("\n    You just earned "+t._s(t.points)+" points!\n    "),s("img",{staticClass:"simpleEntrance",staticStyle:{width:"16vw","border-radius":"100%"},attrs:{src:a("d073")}}),t._v(" "),s("span",{staticClass:"blazingStarText"},[t._v("X "+t._s(t.points))])]):s("div",[s("h3",[t._v("No points this round.")]),t._v(" "),"inviter"==t.playerClass&&t.inviteeCompleted||!t.playerClass?s("img",{staticStyle:{width:"16vw","border-radius":"50%",cursor:"pointer"},attrs:{src:a("75b6")},on:{click:function(e){t.startPlay()}}}):s("img",{staticStyle:{width:"16vw","border-radius":"50%",cursor:"pointer"},attrs:{src:a("75b6")}})]),t._v(" "),this.answerStreakEarned?s("h3",[t._v("\n    You earned 20 points for a 5-question streak!\n    "),s("img",{staticClass:"simpleEntrance",staticStyle:{width:"12rem"},attrs:{src:a("95b0")}})]):t._e(),t._v(" "),this.dayStreakEarned?s("h3",[t._v("\n    You earned 20 points for a 5-day streak!\n    You have played "+t._s(t.days)+" days in a row!\n    "),s("img",{staticClass:"simpleEntrance",staticStyle:{width:"12rem"},attrs:{src:a("95b0")}})]):t._e(),t._v(" "),this.megaStreakEarned?s("h3",[t._v("\n    You earned 100 points for a MEGA-Streak!\n    "),s("img",{staticClass:"simpleEntrance",staticStyle:{width:"12rem"},attrs:{src:a("95b0")}})]):t._e(),t._v(" "),"invitee"!=t.playerClass?s("div",[s("Selector",{key:"select_end",on:{setTopic:function(e){t.setParams(e)}}})],1):t._e(),t._v(" "),s("div",{staticClass:"row mt-3",staticStyle:{"justify-content":"space-evenly"}},[s("div",{staticClass:"col-6"},["inviter"==t.playerClass&&t.inviteeCompleted||!t.playerClass?s("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2",on:{click:function(e){t.startPlay()}}},[t._v("PLAY AGAIN")]):s("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2"},[t._v("\n        Awaiting Friend To Finish Their Round...  \n        "),s("i",{staticClass:"fa fa-spinner fa-spin",staticStyle:{"font-size":"1.3rem",color:"blue"}})])]),t._v(" "),s("div",{staticClass:"col-6"},[s("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2",on:{click:function(e){t.quit()}}},[t._v("QUIT FOR NOW")])])])]):t._e()},at=[],st={name:"endgame",data(){return{subject:!1,level:!1,category:this.$store.state.category,answer:this.$store.state.answer,profile:this.$store.state.profile,dayStreak:this.$store.state.currentPlayer.dayStreak,dayStreakCount:this.$store.state.currentPlayer.dayStreakCount,show:!1,answerStreakEarned:!1,megaStreakEarned:!1,playerClass:window.stream.class}},mounted(){this.$store.dispatch("getTrivia"),this.$store.dispatch("getProfile"),this.$store.dispatch("getCurrentPlayer"),this.$store.dispatch("addStreak",this.dayStreakEarned),this.$store.dispatch("getPoints",{id:this.playerid,streak:this.answerStreak.streak,megaStreak:this.answerStreak.megaStreak,points:this.points+this.answerStreak.streakPoints}),this.$store.dispatch("updateCategoryStats",this.categoryStats),"invitee"==window.stream.class&&setTimeout(t=>{window.stream.connection.send({class:"inviteeFinished",data:!0})},3e3),this.show=!0},computed:{inviteeCompleted(){return this.$store.state.roundComplete},playerid(){return this.$store.state.currentPlayer.profileId},days(){return this.dayStreak+5*this.dayStreakCount},dayStreakEarned(){return(this.dayStreak+5*this.dayStreakCount)%5===0&&{profileId:this.player.profileId,dayStreakCount:this.player.dayStreakCount+1,dayStreak:0}},categoryStats(){let t=this.player.categoryStats.findIndex(t=>t.category==this.category),e=this.player,a=this.player.categoryStats.find(t=>t.category==this.category);return void 0!==a?(this.answer?(e.categoryStats[t].attempted++,e.categoryStats[t].correct++):e.categoryStats[t].attempted++,e):void 0===a?(this.answer?e.categoryStats.push({category:this.category,attempted:e.categoryStats.attempted=1,correct:e.categoryStats.correct=1}):e.categoryStats.push({category:this.category,attempted:e.categoryStats.attempted=1,correct:e.categoryStats.correct=0}),e):void 0},player(){return this.$store.state.currentPlayer},answerStreak(){let t=this.$store.state.currentPlayer.megaStreak,e=this.$store.state.currentPlayer.streak,a=0;return this.answer?e+=1:(e=0,t=0),5===e&&(this.answerStreakEarned=!0,a+=20,e=0,t+=1),5===t&&(this.megaStreakEarned=!0,a+=100,t=0),{streak:e,megaStreak:t,streakPoints:a}},points(){let t=0,e=this.$store.state.trivia.difficulty,a=this.$store.state.answer;return t="easy"==e&&a?5:"medium"==e&&a?10:"hard"==e&&a?20:0,t}},methods:{setParams(t){t.subject&&(this.subject=t.subject),t.level&&(this.level=t.level)},startPlay(){if(this.show=!1,this.subject||(this.subject=Math.floor(23*Math.random())+9),!this.level){let t=Math.floor(3*Math.random());switch(t){case 0:this.level="easy";break;case 1:this.level="medium";break;case 2:this.level="hard";break;default:this.level="medium";break}}this.subject!=this.$store.state.subject&&this.$store.dispatch("setSubject",this.subject),this.level!=this.$store.state.level&&this.$store.dispatch("setLevel",this.level),"inviter"==window.stream.class&&(this.$store.dispatch("inviteeReady",!1),this.$store.dispatch("roundCompleted",!1)),this.$emit("init"),this.subject="",this.level=""},quit(){this.show=!1,ce.push({name:"home"})}},components:{Selector:W}},it=st,ot=Object(m["a"])(it,et,at,!1,null,"7d3e4932",null),nt=ot.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"game"},[a("div",{staticClass:"container-fluid",staticStyle:{"min-height":"100vh"},attrs:{id:"main"}},[a("div",{staticClass:"row",staticStyle:{display:"flex","justify-content":"space-around"}},[t.invitee?a("div",{staticClass:"col-md-4 mt-1"},[t.displayStart&&t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-warning btn-block mb-1",on:{click:t.startGame}},[t._v("START")]):t._e(),t._v(" "),a("Invitee",{key:"inviteeVideostream",on:{inviteeWorkoutComplete:function(){},inviteeWorkout:function(){t.showQuestion=!1,t.exercise=!0},init:function(e){t.init()}}})],1):t._e(),t._v(" "),t.inviter?a("div",{staticClass:"col-md-4 mt-1"},[t.displayStart?a("button",{staticClass:"btn btn-warning btn-block mb-1",on:{click:t.startGame}},[t._v("START")]):t._e(),t._v(" "),a("Inviter",{key:"inviterVideostream",on:{inviteeReady:function(){t.displayStart=!0}}})],1):t._e(),t._v(" "),t.showQuestion?a("div",{class:t.display},[a("Question",{key:"question",on:{workout:function(e){t.workout()}}})],1):t._e(),t._v(" "),t.exercise?a("div",{class:t.display},[a("Exercise",{key:"workout",on:{workoutcomplete:function(e){t.workoutcomplete()}}})],1):t._e(),t._v(" "),t.answer?a("div",{class:t.display},[a("Answer",{key:"answer",on:{endgame:function(e){t.endgame()}}})],1):t._e(),t._v(" "),t.end?a("div",{class:t.display},[a("Endgame",{key:"endgame",on:{init:function(e){t.init()}}})],1):t._e()])])])},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exercise mt-2"},[t.show?a("div",{staticClass:"card exercise_main",staticStyle:{border:"solid 1px silver"}},[t._m(0),t._v(" "),a("transition",{attrs:{name:"bounce"}},[t.imgExer?a("div",[a("img",{staticClass:"card-img-top mt-1",staticStyle:{"max-width":"75vw",width:"auto",height:"auto"},attrs:{src:t.exercise.example,alt:"Exercise Example"}})]):t._e()]),t._v(" "),a("div",{staticClass:"card-body"},[a("h2",{staticClass:"card-title"},[t._v(t._s(t.exercise.title))])]),t._v(" "),a("ul",{staticClass:"list-group list-item bg-dark text-light"},[t.exercise.reps?a("li",{staticClass:"list-group-item"},[a("b",[t._v("Repetitions:")]),t._v("\n        "+t._s(t.exercise.reps)+"\n      ")]):t._e(),t._v(" "),t.exercise.time?a("li",{staticClass:"list-group-item"},[a("b",[t._v("Time:")]),t._v("\n        "+t._s(t.exercise.time)+" seconds\n        "),t.exercise.time?a("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{disabled:t.exerciseTimerDisabled},on:{click:function(e){t.exerciseTimer(),t.exerciseTimerDisabled=!0}}},[t._v("Start Timer")]):t._e()]):t._e(),t._v(" "),t.exercise.notes?a("li",{staticClass:"list-group-item"},[a("b",[t._v("Instructions:")]),t._v("\n        "+t._s(t.exercise.notes)+"\n      ")]):t._e()]),t._v(" "),a("div",{staticClass:"card-body"},[a("button",{staticClass:"btn btn-block btn-outline-info",on:{click:t.getExercise}},[t._v("Get a Different Exercise")]),t._v(" "),a("button",{staticClass:"btn btn-block btn-outline-success",attrs:{disabled:t.isDisabled},on:{click:t.workOutComplete}},[t._v("Finished!")]),t._v(" "),t.cheatTimer?a("span",[t._v("Cheat Guard: "+t._s(t.cheatTimer))]):t._e()])],1):t._e()])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"py-1 my-1 text-info bg-dark",staticStyle:{"font-size":"x-large"}},[a("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}}),t._v("  \n      "),a("span",{attrs:{id:"question"}})])}],ut={name:"exercise",data:function(){return{cheatTimer:1,show:!1,isDisabled:!0,exerciseTimerDisabled:!1,exerciseInterval:null,display:"",imgExer:!1}},beforeDestroy(){this.$store.state.exercise={}},beforeMount(){this.show=!0},mounted(){document.getElementById("question").innerHTML=this.$store.state.trivia.question,this.cheatInterval()},computed:{exercise(){if(this.imgExer=!0,"inviter"==window.stream.class){let t={class:"newExercise",exercise:this.$store.state.exercise};window.stream.connection.send(t)}return this.$store.state.exercise}},methods:{getExercise(){this.imgExer=!1,window.stream.class&&window.stream.connection.send({class:"message",message:"Peer has fetched a new exercise."}),this.$store.dispatch("getExercise"),clearInterval(this.exerciseInterval),this.exerciseTimerDisabled=!1,this.isDisabled=!0,0===this.cheatTimer?(this.cheatTimer=15,this.cheatInterval()):this.cheatTimer=15},workOutComplete(){window.stream.class&&window.stream.sendMessage("Your Friend Finished Their Exercise."),this.imgExer=!1,setTimeout(()=>{this.show=!1,this.$emit("workoutcomplete",!0)},600)},cheatInterval(){let t=setInterval(e=>{this.cheatTimer--,0===this.cheatTimer&&(clearInterval(t),this.isDisabled=!1)},1e3)},exerciseTimer(){let t=setInterval(e=>{this.exercise.time--,0===this.exercise.time&&clearInterval(t)},1e3);this.exerciseInterval=t}},components:{}},mt=ut,ht=(a("3b95"),Object(m["a"])(mt,ct,dt,!1,null,"05c05f5f",null)),vt=ht.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"answer"},[t.show?a("div",{staticClass:"row"},[a("div",[t._v(t._s(t.answer()))])]):t._e()])},gt=[],ft={name:"answer",data:function(){return{show:!1,player:this.$store.state.currentPlayer}},methods:{answer(){let t=this.$store.state.trivia.incorrect_answers;t.forEach((t,e,a)=>{let s=document.createElement("span");s.innerHTML=t,a[e]=s.innerText});let e=this.$store.state.trivia.correct_answer,a=document.createElement("div");J.getGif();a.className="col-12";let s=document.createElement("h4");s.innerHTML=""+this.$store.state.trivia.question,a.appendChild(s),swal({content:a,className:"red-bg",closeOnClickOutside:!1,buttons:{zero:{text:t[0],value:t[0]},two:{text:t[1],value:t[1]},three:{text:t[2],value:t[2]},four:{text:t[3],value:t[3]}}}).then(t=>{if(t==e)window.stream.class&&window.stream.sendMessage("Your Friend Answered The Question Successfully."),swal(e+" Is Correct!","","success").then(()=>{this.$emit("endgame",!0),this.$store.state.answer=!0,swal.close()});else{window.stream.class&&window.stream.sendMessage("Your Friend Answered The Question Incorrectly.");let t=document.createElement("div");t.className="col-12";let a=document.createElement("h4");if(a.innerHTML=e+",<br/>is the correct answer!",t.appendChild(a),!this.show)return;swal({content:t,icon:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.philgalfond.com%2Fwp-content%2Fuploads%2Fwronganswer-300x300.jpg&f=1&nofb=1",className:"wrong",closeOnClickOutside:!1}).then(()=>{this.$emit("endgame",!0),this.$store.state.answer=!1,swal.close()})}this.calculateDayStreak(),this.show=!1})},calculateDayStreak(){let t=this.player.prevDate,e=Date.now(),a=new Date(e),s=a.getFullYear(),i=a.getMonth(),o=a.getDate(),n=Date.UTC(s,i,o,12,0);n-t===864e5?this.$store.dispatch("addStreak",{profileId:this.player.profileId,dayStreak:this.player.dayStreak+1,prevDate:n}):n-t>864e5?this.$store.dispatch("addStreak",{profileId:this.player.profileId,dayStreak:1,prevDate:n,dayStreakCount:0}):n===t&&this.$store.dispatch("addStreak",{profileId:this.player.profileId,dayStreak:1})}},beforeDestroy(){this.show=!1,swal.close()},mounted(){this.show=!0,this.$store.dispatch("getCurrentPlayer")}},wt=ft,bt=Object(m["a"])(wt,pt,gt,!1,null,"4cafa79b",null),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"question"},[a("div",{staticClass:"row"},[t._v(t._s(t.swalShow()))])]):t._e()},Ct=[],kt={name:"question",data:function(){return{show:!1,img:""}},methods:{swalShow:function(){let t=document.createElement("div");t.className="col-12";let e=document.createElement("p");e.innerHTML=`<i class="fa fa-tags" aria-hidden="true"></i> &nbsp;${this.$store.state.trivia.category}<br/><br/><i class="fa fa-arrows-v" aria-hidden="true"></i> &nbsp;${this.$store.state.trivia.difficulty}`,t.appendChild(e);let a=document.createElement("h4");a.innerHTML=""+this.$store.state.trivia.question,t.appendChild(a);let s,i=this.img;s={quit:{text:"Quit Game",value:!1},startEx:{text:"Start Exercise",value:!0}},swal({content:t,className:"red-bg",icon:i,closeOnClickOutside:!1,buttons:s}).then(t=>{t?(window.stream.class&&stream.sendMessage("Your Friend Started Their Exercise."),this.show=!1,this.$emit("workout",!0),swal.close()):(window.stream.class&&stream.sendMessage("Your Friend Quit On You."),this.$emit("init",!1),this.show=!1,swal.close(),this.$router.push({name:"home"}))})}},beforeDestroy(){swal.close()},mounted(){this.img=J.getGif(),this.show=!0}},xt=kt,St=(a("2878"),Object(m["a"])(xt,_t,Ct,!1,null,"e5535246",null)),$t=St.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inviter video-container"},[a("RemoteVideo",{key:"remoteVideo"}),t._v(" "),a("div",{staticClass:"col-12 bg-dark"},[a("button",{staticClass:"btn btn-outline-info btn-sm bg-light mb-1",on:{click:function(){t.showAllMsg=!t.showAllMsg,t.showLastMsg=!t.showLastMsg}}},[t.showLastMsg?a("i",{staticClass:"fa fa-comments fa-2x",attrs:{"aria-hidden":"true"}}):a("i",{staticClass:"fa fa-comment fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("br"),t._v(" "),t.showLastMsg?a("p",{staticClass:"bg-dark text-info rounded",attrs:{id:"msgOne"}},[t._v(t._s(t.lastMessage))]):t._e(),t._v(" "),t.showAllMsg?a("textarea",{staticClass:"bg-dark text-info pt-1",staticStyle:{"text-align":"center"},attrs:{id:"msgAll",readonly:""},domProps:{value:t.messageString}}):t._e()]),t._v(" "),a("LocalVideo",{key:"localVideo"})],1)},Et=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myVideo bg-dark text-info"},[a("div",{staticClass:"col-12"},["inviter"==t.playerClass?a("p",[t._v("\n      My Link:\n      "),a("br"),t._v(" "),a("textarea",{staticClass:"bg-dark text-info",staticStyle:{width:"-webkit-fill-available",height:"auto",border:"none",overflow:"scroll","text-align":"center"},attrs:{type:"text",readonly:""},domProps:{value:t.link}}),t._v(" "),a("br"),t._v("My Room:\n      "),a("br"),t._v(" "),a("input",{staticClass:"bg-dark text-info",staticStyle:{width:"-webkit-fill-available",height:"auto",border:"none","text-align":"center"},attrs:{type:"text",readonly:""},domProps:{value:t.room}})]):t._e()]),t._v(" "),a("div",{staticClass:"col-12"},[a("h4",{staticClass:"my-0"},[a("span",{staticClass:"badge badge-dark text-light text-truncate",staticStyle:{width:"-webkit-fill-available"}},[t._v(t._s(t.me))])])]),t._v(" "),a("div",{staticClass:"col-12 d-flex controls",staticStyle:{"justify-content":"center"}},[t.videoStream?a("svg",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"Toggle Video Stream.",expression:"'Toggle Video Stream.'",arg:"top"}],staticClass:"col-2 bi bi-camera-video-off",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleVideoPlay("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M10.961 12.365a1.99 1.99 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l.714 1H9.5a1 1 0 0 1 1 1v6a1 1 0 0 1-.144.518l.605.847zM1.428 4.18A.999.999 0 0 0 1 5v6a1 1 0 0 0 1 1h5.014l.714 1H2a2 2 0 0 1-2-2V5c0-.675.334-1.272.847-1.634l.58.814zM15 11.73l-3.5-1.555v-4.35L15 4.269v7.462zm-4.407 3.56l-10-14 .814-.58 10 14-.814.58z"}})]):a("svg",{staticClass:"col-2 bi bi-camera-video",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleVideoPlay("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175l3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"}})]),t._v(" "),t.audioStream?a("svg",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"Toggle Audio On/Off.",expression:"'Toggle Audio On/Off.'",arg:"top"}],staticClass:"col-2 bi bi-mic-mute",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleAudioMuted("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M12.734 9.613A4.995 4.995 0 0 0 13 8V7a.5.5 0 0 0-1 0v1c0 .274-.027.54-.08.799l.814.814zm-2.522 1.72A4 4 0 0 1 4 8V7a.5.5 0 0 0-1 0v1a5 5 0 0 0 4.5 4.975V15h-3a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-3v-2.025a4.973 4.973 0 0 0 2.43-.923l-.718-.719zM11 7.88V3a3 3 0 0 0-5.842-.963l.845.845A2 2 0 0 1 10 3v3.879l1 1zM8.738 9.86l.748.748A3 3 0 0 1 5 8V6.121l1 1V8a2 2 0 0 0 2.738 1.86zm4.908 3.494l-12-12 .708-.708 12 12-.708.707z"}})]):a("svg",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"Toggle Audio On/Off.",expression:"'Toggle Audio On/Off.'",arg:"top"}],staticClass:"col-2 bi bi-mic",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleAudioMuted("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"}}),t._v(" "),a("path",{attrs:{"fill-rule":"evenodd",d:"M10 8V3a2 2 0 1 0-4 0v5a2 2 0 1 0 4 0zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3z"}})]),t._v(" "),t.PIP?a("svg",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"Toggle Video Picture In Picture.",expression:"'Toggle Video Picture In Picture.'",arg:"top"}],staticClass:"col-2 bi bi-window",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.togglePIP("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M14 2H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"}}),t._v(" "),a("path",{attrs:{"fill-rule":"evenodd",d:"M15 6H1V5h14v1z"}}),t._v(" "),a("path",{attrs:{d:"M3 3.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm1.5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm1.5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"}})]):a("svg",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"Toggle Video Picture In Picture.",expression:"'Toggle Video Picture In Picture.'",arg:"top"}],staticClass:"col-2 bi bi-pip",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",role:"img",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.togglePIP("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"}}),t._v(" "),a("path",{attrs:{d:"M8 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-3z"}})]),t._v(" "),a("svg",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"Toggle Full Screen.",expression:"'Toggle Full Screen.'",arg:"top"}],staticClass:"col-2 bi bi-fullscreen",attrs:{width:"1.3rem",height:"1.3rem",viewBox:"0 0 16 16",fill:"blue",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.toggleFullScreen("myVideo")}}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"}})])]),t._v(" "),a("div",{staticStyle:{"justify-content":"center"}},[a("video",{staticClass:"col-12 mt-0 pt-0",attrs:{autoplay:"true",id:"myVideo",muted:"",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1"},domProps:{muted:!0}})])])},Tt=[],It={name:"myVideo",data(){return{videoStream:!0,audioStream:!0,PIP:!1,me:this.$auth.user.name,link:window.stream.myLink,room:window.stream.myId,playerClass:window.stream.class,shouldFaceUser:!0}},computed:{},methods:{capture(){let t={audio:!0,video:!0};t.video={facingMode:this.shouldFaceUser?"user":"environment"},navigator.mediaDevices.getUserMedia(t).then((function(t){console.log(t,"\n",stream.localStream),stream.localStream=t,stream.localPeer.call(stream.connection.peer,stream.localStream),document.getElementById("myVideo").srcObject=stream.localStream,document.getElementById("myVideo").play()})).catch((function(t){console.log(t)}))},toggleCamera(){if(null==stream.localStream)return;let t=navigator.mediaDevices.getSupportedConstraints();t["facingMode"]?this.shouldFaceUser=!this.shouldFaceUser:swal("Your Device Doesn't Support This Feature.",{timer:2e3})},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.getElementById("myVideo").requestFullscreen()},toggleVideoPlay(t){stream.localStream.getVideoTracks()[0].enabled=!stream.localStream.getVideoTracks()[0].enabled,this.videoStream=!this.videoStream},toggleAudioMuted(t){stream.localStream.getAudioTracks()[0].enabled=!stream.localStream.getAudioTracks()[0].enabled,this.audioStream=!this.audioStream},togglePIP(t){let e=document.getElementById(t);if(document.pictureInPictureEnabled&&!e.disablePictureInPicture)try{document.pictureInPictureElement?(document.exitPictureInPicture(),this.PIP=!1):this.PIP=!0,e.requestPictureInPicture()}catch(a){console.error(a)}}},beforeDestroy(){},beforeMount(){},components:{},directives:{tooltip:function(t,e){$(t).tooltip({title:e.value,placement:e.arg,trigger:"hover"})}}},Ft=It,At=Object(m["a"])(Ft,Mt,Tt,!1,null,"afdf6d2a",null),jt=At.exports,Ot=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"peerVideo bg-info"},[a("h3",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-dark text-truncate my-0",staticStyle:{width:"-webkit-fill-available"},attrs:{id:"peerName"}})]),t._v(" "),a("div",{staticClass:"mt-0"},[a("video",{staticClass:"col-12 mt-0",attrs:{autoplay:"true",id:"peerVideo",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1",controls:""}})])])}],Lt={name:"peerVideo",data(){return{}},computed:{},methods:{},components:{},beforeDestroy(){}},Nt=Lt,zt=Object(m["a"])(Nt,Ot,Vt,!1,null,"27629185",null),Dt=zt.exports,Rt={name:"inviter",data(){return{messageString:"",lastMessage:"No Messages Yet.",showAllMsg:!1,showLastMsg:!0}},computed:{},methods:{sendMessage(t){let e={class:"message",message:t};window.stream.connection.send(e)},welcomeInvitee(t){let e;e={class:"game",trivia:this.$store.state.trivia,exercise:this.$store.state.exercise},window.stream.connection.send(e),e={class:"name",name:this.$store.state.currentPlayer.name},window.stream.connection.send(e)},respondToInvitee(t){let e;try{switch(t.class){case"inviteeReady":return console.log("IN INVITEE READY"),this.$store.dispatch("inviteeReady",!0),void this.$emit("inviteeReady");case"inviteeFinished":this.$store.dispatch("roundCompleted",!0);break;case"peerName":return document.getElementById("peerName").textContent=t.name,void this.$emit("inviteeReady");case"message":let a=(new Date).toLocaleTimeString(),s=a+" - "+t.message;return this.lastMessage=s,void(this.messageString+=s+"\n");default:e={class:"message",message:"error; make sure to specify class."}}window.stream.connection.send(e)}catch(a){console.log(a)}}},components:{LocalVideo:jt,RemoteVideo:Dt},created(){},beforeDestroy(){let t,e=!1;try{t=stream.localStream.getTracks(),t.forEach((function(t){t.stop()})),stream.localPeer&&stream.localPeer.destroy()}catch(a){e=!0,console.log(a)}try{t=stream.remoteStream.getTracks(),t.forEach((function(t){t.stop()}))}catch(a){e=a,console.log(a)}window.stream={},window.stream.class=!1},mounted(){window.stream.respondToInvitee=this.respondToInvitee,window.stream.welcomeInvitee=this.welcomeInvitee,window.stream.sendMessage=this.sendMessage,function(){let t=null,e=null,a=null,s=window.stream.myId,i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function o(){if(window.stream.localPeer)try{e=window.stream.localPeer,e.reconnect()}catch(o){console.log(o),e=new Peer(s,{secure:!0,debug:2})}else e=new Peer(s,{secure:!0,debug:2});function i(){a.on("open",(function(){console.log("conn opened"),window.stream.connection=a,window.stream.welcomeInvitee()})),a.on("data",(function(t){window.stream.respondToInvitee(t)})),a.on("close",(function(){console.log("Connection reset. Awaiting connection..."),a=null}))}e.on("open",(function(s){null===e.id?e.id=t:t=e.id,window.stream.localPeer=e,e.on("connection",(function(t){a&&a.open?t.on("open",(function(){t.send("Already connected to another client"),setTimeout((function(){t.close()}),500)})):(a=t,i())})),e.on("disconnected",(function(){console.log("Connection lost. Please reconnect")})),e.on("close",(function(){a=null,console.log("Connection destroyed")})),e.on("error",(function(t){let a="Error: "+t;console.log(a),e.close()})),e.on("call",(function(t){try{let e=window.stream.localStream;t.answer(e),t.on("stream",(function(t){document.getElementById("peerVideo").srcObject=t,window.stream.remoteStream=t}))}catch(o){console.log("Failed to get/send stream "+o)}}))}))}i({video:!0,audio:!0},(function(t){window.stream.localStream=t,document.getElementById("myVideo").srcObject=t}),(function(t){console.log("Failed to get stream "+t)})),o()}()}},Bt=Rt,Yt=Object(m["a"])(Bt,Pt,Et,!1,null,null,null),qt=Yt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invitee video-container"},[a("RemoteVideo",{key:"remoteVideo"}),t._v(" "),a("LocalVideo",{key:"localVideo"}),t._v(" "),a("div",{staticClass:"col-12 bg-dark"},[a("button",{staticClass:"btn btn-outline-info btn-sm bg-light mb-1",on:{click:function(){t.showAllMsg=!t.showAllMsg,t.showLastMsg=!t.showLastMsg}}},[t.showLastMsg?a("i",{staticClass:"fa fa-comments fa-2x",attrs:{"aria-hidden":"true"}}):a("i",{staticClass:"fa fa-comment fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("br"),t._v(" "),t.showLastMsg?a("p",{staticClass:"bg-dark text-info rounded",attrs:{id:"msgOne"}},[t._v(t._s(t.lastMessage))]):t._e(),t._v(" "),t.showAllMsg?a("textarea",{staticClass:"bg-dark text-info pt-1 text-align: center;",attrs:{readonly:"",id:"msgAll"},domProps:{value:t.messageString}}):t._e()])],1)},Ht=[],Ut={name:"invitee",data(){return{messageString:"",lastMessage:"No Messages Yet.",showAllMsg:!1,showLastMsg:!0}},computed:{},methods:{sendMessage(t){let e={class:"message",message:t};window.stream.connection.send(e)},respondToInviter(t){switch(t.class){case"game":this.$store.dispatch("inviteeExercise",t.exercise),this.$store.dispatch("inviteeTrivia",t.trivia);break;case"beginExercise":swal.close(),this.$emit("inviteeWorkout");break;case"workoutComplete":this.$emit("inviteeWorkoutComplete");break;case"newExercise":this.$store.dispatch("inviteeExercise",t.exercise);break;case"replay":this.$store.dispatch("inviteeExercise",t.exercise),this.$store.dispatch("inviteeTrivia",t.trivia),this.$emit("init");break;case"message":let e=(new Date).toLocaleTimeString(),a=e+" - "+t.message;this.lastMessage=a,this.messageString+=a+"\n";break;case"name":document.getElementById("peerName").textContent=t.name;let s=this.$auth.user.name;window.stream.connection.send({class:"peerName",name:s});break;default:console.log(t)}}},components:{LocalVideo:jt,RemoteVideo:Dt},beforeDestroy(){let t,e=!1;try{t=stream.localStream.getTracks(),t.forEach((function(t){t.stop()})),stream.localPeer&&stream.localPeer.destroy()}catch(a){e=!0,console.log(a)}try{t=stream.remoteStream.getTracks(),t.forEach((function(t){t.stop()}))}catch(a){e=a,console.log(a)}window.stream={},window.stream.class=!1},mounted(){window.stream.respondToInviter=this.respondToInviter,window.stream.sendMessage=this.sendMessage,function(){let t=null,e=null,a=null,s=window.stream.peerId,i=null,o=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function n(){if(window.stream.localPeer)try{e=window.stream.localPeer,e.reconnect()}catch(s){e=new Peer(null,{secure:!0,debug:2})}else e=new Peer(null,{secure:!0,debug:2});e.on("open",(function(i){null===e.id?(console.log("Received null id from peer open"),e.id=t):(console.log("receieved peer.id"),t=e.id,window.stream.localPeer=e,e.on("connection",(function(t){t.on("open",(function(){t.send("Received A Connection."),console.log("received a connection")}))})),e.on("disconnected",(function(){console.log("Connection lost. Please reconnect").then(t=>{e.id=window.stream.localId,e._lastServerId=window.stream.localId,e.reconnect(),console.log.close()})})),e.on("close",(function(){a=null,console.log("Connection destroyed. Please refresh"),console.log("Connection destroyed")})),e.on("error",(function(t){console.log(t)})),e.on("call",(function(t){try{let e=window.stream.localStream;t.answer(e)}catch(s){console.log("Failed to get/send stream",s)}})),r())}))}function r(){console.log(stream.connection),window.stream.connection&&window.stream.connection.close(),a=e.connect(s,{reliable:!0}),a.on("open",(function(){console.log("Connected to: "+a.peer),window.stream.connection=a;let t=l("command");t&&a.send(t)})),a.on("data",(function(t){window.stream.respondToInviter(t)})),a.on("close",(function(){console.log("Connection closed")})),i=e.call(s,window.stream.localStream),i.on("stream",(function(t){window.stream.remoteStream=t,document.getElementById("peerVideo").srcObject=t}))}function l(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t+"=([^&#]*)",a=new RegExp(e),s=a.exec(window.location.href);return null==s?null:s[1]}o({video:!0,audio:!0},(function(t){window.stream.localStream=t,document.getElementById("myVideo").srcObject=t}),(function(t){console.log("Failed to get stream",t)})),n()}()}},Qt=Ut,Wt=Object(m["a"])(Qt,Gt,Ht,!1,null,null,null),Jt=Wt.exports,Xt={name:"game",data(){return{answer:!1,exercise:!1,end:!1,showQuestion:!1,inviter:!1,invitee:!1,displayStart:!1}},computed:{},methods:{async login(){await this.$auth.loginWithPopup().then(()=>{this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")})},startGame(){this.showQuestion=!0,this.displayStart=!1},workoutcomplete(t){this.exercise=!1,this.answer=!0},workout(t){this.showQuestion=!1,this.exercise=!0},endgame(t){this.answer=!1,this.end=!0},async init(t){this.end=!1,this.showQuestion=!1,this.exercise=!1,window.stream.class?"invitee"==window.stream.class?(setTimeout(t=>{window.stream.connection.send({class:"inviteeReady"})}),this.displayStart=!0):"inviter"==window.stream.class&&this.begin():this.begin()},async begin(){await this.$store.dispatch("getExercise");let t=this.$store.state.subject,e=this.$store.state.level,a=[],s=this.$store.state.triviaToken;const i=await fetch(`https://opentdb.com/api.php?amount=1&category=${t}&difficulty=${e}&type=multiple&token=${s}`);let o=await i.json();o=o.results[0];for(let n in o)Array.isArray(o[n])?o[n].forEach((t,e,a)=>{a[e]=t}):o[n]=o[n];if(a=o.incorrect_answers,a.push(o.correct_answer),a.forEach((t,e,a)=>{let s=Math.floor(a.length*Math.random()),i=a[s];a[s]=t,a[e]=i}),o.incorrect_answers=a,this.$store.commit("setTrivia",o),stream.class){if(window.stream.connection.open){let t={class:"replay",trivia:this.$store.state.trivia,exercise:this.$store.state.exercise};window.stream.connection.send(t)}}else this.showQuestion=!0}},beforeCreate(){},async beforeMount(){let t=window.location.href.split("/"),e=t[t.length-1];if("invitee"==e){if(this.$auth.isAuthenticated){window.stream=new Object,window.stream.class="invitee",window.stream.peerId=t[t.length-2];let e=Math.random().toString(36).substr(2,16);window.stream.myId=e,this.display="col-md-8",this.invitee=!0,this.displayStart=!0}}else"inviter"==e?(this.inviter=!0,this.begin(),this.display="col-md-8"):(sessionStorage.class=!1,this.display="col-12",this.begin())},beforeDestroy(){},components:{Exercise:vt,Answer:yt,Question:$t,Endgame:nt,Inviter:qt,Invitee:Jt}},Kt=Xt,Zt=(a("568f"),Object(m["a"])(Kt,rt,lt,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login container-fluid"},[a("div",{staticClass:"row"},[t.$auth.isAuthenticated?t._e():a("div",{staticClass:"col-12",staticStyle:{"margin-top":"5%"}},[a("button",{staticClass:"btn btn-info btn-block",staticStyle:{"min-height":"50vh","background-image":"radial-gradient(white, blue, black)"},on:{click:t.login}},[t._m(0)])])])])},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"text-dark"},[a("i",{staticClass:"fa fa-user-circle fa-5x",attrs:{"aria-hidden":"true"}}),t._v(" "),a("br"),t._v("LOGIN\n        ")])}],se={name:"login",data(){return{}},computed:{},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user),this.$router.push({name:"home"})}},components:{},beforeCreate(){this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),this.$router.push({name:"home"}))}},ie=se,oe=Object(m["a"])(ie,ee,ae,!1,null,"3067a10e",null),ne=oe.exports;s["a"].use(R["a"]);const re=[{path:"/",name:"home",component:tt},{path:"/game",name:"game",component:te,beforeEnter:j["b"]},{path:"/players/:id",name:"players",component:nt},{path:"/game/:id/inviter",name:"inviter",component:te,beforeEnter:j["b"]},{path:"/game/:id/invitee",name:"invitee",component:te,beforeEnter:j["b"]},{path:"/login",name:"login",component:ne},{path:"*",redirect:"/"}],le=new R["a"]({routes:re});var ce=le;le.beforeEach((t,e,a)=>{"invitee"==e.name||"inviter"==e.name?V()({title:"Are you sure you want to leave Game...You may lose your connection to your peer!",icon:"warning",buttons:{one:{text:"Cancel",value:!1},zero:{text:"Confirm",value:!0}}}).then(t=>{t?(V.a.close(),a()):(a(!1),V.a.close())}):a()});var de=a("2f62");let ue=location.host.includes("localhost")?"http://localhost:3000/":"/";const me=M.a.create({baseURL:ue+"api",timeout:3e3,withCredentials:!0});var he={actions:{getAnswer({commit:t,dispatch:e,state:a}){return a.answer}}},ve={actions:{async getExercise({commit:t,dispatch:e}){try{let e=await me.get("/exercises/random");return t("setExercise",e.data[0]),sessionStorage.exercise=JSON.stringify(e.data[0]),e.data[0]}catch(a){console.error(a)}}}},pe={actions:{async loadLeaders({commit:t,dispatch:e,state:a}){let s=await me.get("players/gettop");t("setLeaders",s.data)},getLeaders({commit:t,dispatch:e,state:a}){return a.leaders}}},ge={actions:{setLevel({commit:t,dispatch:e,state:a},s){t("setLevel",s)}}},fe={actions:{setSubject({commit:t,dispatch:e,state:a},s){t("setSubject",s)}}},we={actions:{getTrivia({commit:t,dispatch:e,state:a}){return a.trivia}}};s["a"].use(de["a"]);var be=new de["a"].Store({state:{trivia:{},exercise:{},profile:{},leaders:[],user:{},currentPlayer:{},roundComplete:!1,inviteeReady:!1,level:null,subject:null,answer:null,triviaToken:""},mutations:{setRoundComplete(t,e){t.roundComplete=e,sessionStorage.roundComplete=e},setInviteeReady(t,e){t.inviteeReady=e,sessionStorage.inviteeReady=e},setProfile(t,e){t.profile=e,sessionStorage.profile=JSON.stringify(e)},setExercise(t,e){t.exercise=e},setSubject(t,e){t.subject=e,sessionStorage.subject=e},setLevel(t,e){t.level=e,sessionStorage.level=e},setTrivia(t,e){t.trivia=e},setLeaders(t,e){t.leaders=e,sessionStorage.leaders=JSON.stringify(e)},setCurrentPlayer(t,e){t.currentPlayer=e,sessionStorage.currentPlayer=JSON.stringify(e)},setTriviaToken(t,e){t.triviaToken=e,sessionStorage.triviaToken=e}},actions:{setBearer({},t){me.defaults.headers.authorization=t},resetBearer(){me.defaults.headers.authorization=""},async getProfile({commit:t,dispatch:e,state:a}){try{let a=await me.get("/profile");await t("setProfile",a.data),e("getCurrentPlayer")}catch(s){console.error(s)}},roundCompleted({commit:t},e){t("setRoundComplete",e)},inviteeReady({commit:t},e){t("setInviteeReady",e)},triviaToken({commit:t},e){t("setTriviaToken",e)},inviteeExercise({commit:t},e){t("setExercise",e)},inviteeTrivia({commit:t},e){t("setTrivia",e)},async getCurrentPlayer({commit:t,dispatch:e,state:a}){try{let e=await me.get("players/"+a.profile.id);t("setCurrentPlayer",e.data)}catch(s){e("newPlayer",{id:a.profile.id,name:a.profile.name}),console.error(s)}},async newPlayer({commit:t,dispatch:e,state:a},s){try{let e=await me.post("players",{name:s.name,points:0,profileId:s.id,prevDate:0,dayStreak:0,dayStreakCount:0,streak:0,megaStreak:0,categoryStats:[]});t("setCurrentPlayer",e.data)}catch(i){console.error(i)}},async getPoints({commit:t,dispatch:e,state:a},s){try{let t=await me.get("players/"+s.id);e("updatePoints",{id:s.id,oldPoints:t.data.points,newPoints:s.points,streak:s.streak,megaStreak:s.megaStreak,categoryStats:[{category:s.category,correct:s.correct,attempted:s.attempted}]})}catch(i){console.error(i)}},async addStreak({commit:t,dispatch:e,state:a},s){try{await me.put("players/"+s.profileId,s);e("getCurrentPlayer")}catch(i){console.error(i)}},async updatePoints({commit:t,dispatch:e,state:a},s){try{await me.put("players/"+s.id,{points:s.oldPoints+s.newPoints,streak:s.streak,megaStreak:s.megaStreak});e("loadLeaders"),e("getCurrentPlayer")}catch(i){console.error(i)}},async updateCategoryStats({commit:t,dispatch:e,state:a},s){try{await me.put("players/"+s.profileId,{categoryStats:s.categoryStats});e("getCurrentPlayer")}catch(i){console.error(i)}}},modules:{answer:he,exercise:ve,leaders:pe,level:ge,subject:fe,trivia:we}});const ye="oliverjones.us.auth0.com",_e="https://mind-your-body.com",Ce="bIuVg4gq4WSqHa1vXVbOw181pNFVtqnI";s["a"].use(j["a"],{domain:ye,clientId:Ce,audience:_e,onRedirectCallback:t=>{ce.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:ce,store:be,render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),i=a.n(s);i.a},"5ced":function(t,e,a){},"5dfc":function(t,e,a){"use strict";var s=a("1a12"),i=a.n(s);i.a},"5e11":function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="5e11"},"75b6":function(t,e,a){t.exports=a.p+"img/end_wrong.97849115.gif"},"95b0":function(t,e,a){t.exports=a.p+"img/coin.cc0c24bd.gif"},"9c0c":function(t,e,a){},a174:function(t,e,a){},c457:function(t,e,a){},cccb:function(t,e,a){"use strict";var s=a("5ced"),i=a.n(s);i.a},d073:function(t,e,a){t.exports=a.p+"img/coin_entry.767c2065.gif"}});