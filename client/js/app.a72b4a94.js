(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1ae4":function(t,e,s){},"568f":function(t,e,s){"use strict";var a=s("c457"),i=s.n(a);i.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"background-color":"black","min-height":"100vh"},attrs:{id:"app"}},[s("navbar"),t._v(" "),s("router-view")],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar gameFont navbar-expand-lg",staticStyle:{"border-bottom":"solid 2px white","background-image":"linear-gradient(to right, rgb(0, 0, 0,.5), rgba(0, 0, 255, 0.4))"}},[s("router-link",{staticClass:"navbar-brand",staticStyle:{"font-size":"2.5rem"},attrs:{to:{name:"home"}}},[t._v("MYB")]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto align-content-center"},[s("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("li",{staticClass:"nav-item"},[t.$auth.isAuthenticated?s("Profile"):t._e()],1),t._v(" "),"/"!=t.$route.path?s("li",{staticClass:"nav-item mr-3",class:{active:"home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Quit")])],1):t._e(),t._v(" "),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item ml-5"},[t.points?s("h3",[t._v("Total Points: "+t._s(t.points))]):s("h3",[t._v("Total Points: 0")])]):t._e()]),t._v(" "),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-dark text-info",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"leaderboardmodal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content bg-primary leaderFont"},[t._m(3),t._v(" "),t._m(4),t._v(" "),s("h3",[s("ol",t._l(t.leaders,(function(t){return s("leader",{key:t.id,attrs:{leader:t}})})))]),t._v(" "),t._m(5)])])]),t._v(" "),t._m(6)],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler btn btn-outline-info pb-1",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",[s("i",{staticClass:"fa fa-bars fa-2x",attrs:{"aria-hidden":"true"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#leaderboardmodal"}},[t._v("Leaderboard")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#aboutmodal"}},[t._v("About")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"leaderboardmodal"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-body"},[s("b",[t._v("TOP POINT EARNERS")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"aboutmodal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"aboutmodal"}},[t._v("Directions")])]),t._v(" "),s("div",{staticClass:"modal-body text-justify"},[s("p",[t._v("Welcome to 'Mind Your Body', the total app for the whole person. Press 'start' to receive a question that tests your knowledge. When you are ready, press 'start activity' and you will be given an exercise. While you exercise, consider the answer to the question. When you finish the exercise, press 'complete' and choose the best answer to your question. A right answer earns you 5 points for an easy question, 10 points for an intermediate question, and 20 points for a difficult question. You may change the exercise before beginning. Repeat as many times as you like for a full workout of both your body and your brain.")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])])}],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal",href:"#profileModal"}},[t._v("Profile")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"profileModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("h2",{staticClass:"p-2"},[s("b",{staticClass:"text-info"},[t._v(t._s(t.playerStats.name))])]),t._v(" "),s("h3",{staticClass:"p-2"},[t._v("\n            Total Points:\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.points))])]),t._v(" "),1===t.playerStats.timeStreakCount?s("h5",{staticClass:"p-1"},[t._v("\n            PlayStreak:\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.timeStreakCount))]),t._v(" day in a row!\n          ")]):t._e(),t._v(" "),1!=t.playerStats.timeStreakCount?s("h5",{staticClass:"p-1"},[t._v("\n            Play Streak:\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.timeStreakCount))]),t._v(" days in a row!\n          ")]):t._e(),t._v(" "),1===t.playerStats.streak?s("h5",{staticClass:"p-1"},[t._v("\n            Question Streak:\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.streak))]),t._v(" question in a row!\n          ")]):t._e(),t._v(" "),1!=t.playerStats.streak?s("h5",{staticClass:"p-1"},[t._v("\n            Question Streak:\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.streak))]),t._v(" questions in a row!\n          ")]):t._e(),t._v(" "),1===t.playerStats.megaStreak?s("h5",{staticClass:"p-1"},[t._v("\n            MEGA Streak\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.megaStreak))]),t._v(" Question Streak in a row!\n          ")]):t._e(),t._v(" "),1!=t.playerStats.megaStreak?s("h5",{staticClass:"p-1"},[t._v("\n            MEGA Streak:\n            "),s("b",{staticClass:"text-warning"},[t._v(t._s(t.playerStats.megaStreak))]),t._v(" Question Streaks in a row!\n          ")]):t._e(),t._v(" "),s("table",{staticClass:"table table-striped table-hover mt-5"},[t._m(1),t._v(" "),s("tbody",t._l(t.playerStats.categoryStats,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.category))]),t._v(" "),s("td",{staticClass:"text-danger"},[t._v(t._s(e.attempted))]),t._v(" "),s("td",{staticClass:"text-success"},[t._v(t._s(e.correct))]),t._v(" "),s("td",{staticClass:"text-warning"},[t._v(t._s(Math.trunc(e.correct/e.attempted*100))+" %")])])})))])]),t._v(" "),t._m(2)])])])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Profile Stats")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Categories")]),t._v(" "),s("th",[t._v("Attempted")]),t._v(" "),s("th",[t._v("Correct")]),t._v(" "),s("th",[t._v("%")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],d={name:"profile",data(){return{}},computed:{playerStats(){return this.$store.state.currentPlayer},categoryLibrary(){return this.$store.state.categoryLibrary}},methods:{},components:{}},u=d,m=s("2877"),h=Object(m["a"])(u,l,c,!1,null,"dba79efe",null),v=h.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card bg-info text-light mr-5"},[s("div",{staticClass:"d-flex",staticStyle:{"justify-content":"space-between"}},[t._m(0),t._v(" "),s("div",[s("span",[t._v(t._s(t.leader.name))])]),t._v(" "),s("div",{staticClass:"mr-3"},[s("span",[t._v(t._s(t.leader.points))])])])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-user-circle",attrs:{"aria-hidden":"true"}})])}],w={name:"Leader",props:["leader"],mounted(){},computed:{},methods:{},components:{}},f=w,_=Object(m["a"])(f,p,g,!1,null,null,null),b=_.exports,y=s("bc3a"),C=s.n(y);C.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var k={name:"Navbar",mounted(){this.$store.dispatch("getLeaders")},computed:{leaders(){return this.$store.state.leaders},points(){return this.$store.state.currentPlayer.points}},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout({returnTo:window.location.origin})}},components:{Leader:b,Profile:v}},x=k,S=Object(m["a"])(x,r,o,!1,null,null,null),$=S.exports,E=s("335d"),P=(s("1940"),s("a0bc"),{name:"App",async beforeCreate(){window.stream=new Object,window.stream.class=!1;try{await Object(E["b"])(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")}catch(t){this.$router.push({name:"home"})}},components:{Navbar:$},methods:{}}),T=P,F=(s("5c0b"),Object(m["a"])(T,i,n,!1,null,null,null)),M=F.exports,j=s("8c4f"),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid gameFont",staticStyle:{"min-height":"100vh"},attrs:{id:"home"}},[s("div",{staticClass:"row justify-content-center pt-3"},[s("div",{staticClass:"col-sm-4 col-md-3"},[s("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{type:"button"},on:{click:t.invite}},[t._m(0)])]),t._v(" "),t.stream?s("div",{staticClass:"col-sm-4 col-md-3 text-light"},[s("button",{staticClass:"btn btn-block btn-outline-danger",attrs:{type:"button"},on:{click:t.closeConnection}},[t._m(1)])]):t._e(),t._v(" "),s("div",{staticClass:"col-sm-4 col-md-3"},[s("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{type:"button"},on:{click:t.join}},[t._m(2)])])]),t._v(" "),s("div",[s("Selector",{key:"select_home",on:{setTopic:function(e){t.setParams(e)}}})],1),t._v(" "),s("div",{staticClass:"row mt-3",staticStyle:{"justify-content":"space-evenly"}},[s("div",{staticClass:"col-xs-12 mt-3"},[s("button",{staticClass:"btn btn-block btn-outline-info",attrs:{type:"button"},on:{click:function(e){t.startPlay()}}},[t._m(3)]),t._v(" "),s("h1",{staticClass:"comeInStyle my-2"},[t._v("MIND YOUR BODY")]),t._v(" "),t._m(4)])])])},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"py-0"},[s("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),t._v("  Invite\n        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"py-0 text-warning"},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),t._v("  Close Connection\n        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h5",{staticClass:"py-0"},[s("i",{staticClass:"fa fa-handshake-o",attrs:{"aria-hidden":"true"}}),t._v("  Join \n        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"pt-2 pb-1"},[s("i",{staticClass:"fa fa-superpowers",attrs:{"aria-hidden":"true"}}),t._v("\n          START  \n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fadeBox"},[a("img",{staticClass:"fadeIn",staticStyle:{width:"30vw","border-radius":"90%"},attrs:{src:s("5f9b")}})])}],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selector row mt-3",staticStyle:{"justify-content":"space-evenly"}},[s("div",{staticClass:"col-sm-12 col-md-3 text-warning"},[t._m(0),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],staticClass:"form-control dropDown",staticStyle:{border:"solid 1px white",color:"blue",background:"black"},attrs:{name:"category_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subject=e.target.multiple?s:s[0]},t.chooseSubject]}},[s("option",[t._v("--- Select Subject ---")]),t._v(" "),s("option",{attrs:{value:"",show:""}},[t._v("Random")]),t._v(" "),s("option",{attrs:{value:"9"}},[t._v("general knowledge")]),t._v(" "),s("option",{attrs:{value:"10"}},[t._v("Books")]),t._v(" "),s("option",{attrs:{value:"11"}},[t._v("Film")]),t._v(" "),s("option",{attrs:{value:"12"}},[t._v("Music")]),t._v(" "),s("option",{attrs:{value:"13"}},[t._v("Musicals & Theatre")]),t._v(" "),s("option",{attrs:{value:"14"}},[t._v("Television")]),t._v(" "),s("option",{attrs:{value:"15"}},[t._v("Video Games")]),t._v(" "),s("option",{attrs:{value:"16"}},[t._v("Board Games")]),t._v(" "),s("option",{attrs:{value:"17"}},[t._v("Science & Nature")]),t._v(" "),s("option",{attrs:{value:"18"}},[t._v("Computers")]),t._v(" "),s("option",{attrs:{value:"19"}},[t._v("Mathematics")]),t._v(" "),s("option",{attrs:{value:"20"}},[t._v("Mythology")]),t._v(" "),s("option",{attrs:{value:"21"}},[t._v("Sports")]),t._v(" "),s("option",{attrs:{value:"22"}},[t._v("Geography")]),t._v(" "),s("option",{attrs:{value:"23"}},[t._v("History")]),t._v(" "),s("option",{attrs:{value:"24"}},[t._v("Politics")]),t._v(" "),s("option",{attrs:{value:"25"}},[t._v("Art")]),t._v(" "),s("option",{attrs:{value:"26"}},[t._v("Celebrities")]),t._v(" "),s("option",{attrs:{value:"27"}},[t._v("Animals")]),t._v(" "),s("option",{attrs:{value:"28"}},[t._v("Vehicles")]),t._v(" "),s("option",{attrs:{value:"29"}},[t._v("Entertainment")]),t._v(" "),s("option",{attrs:{value:"30"}},[t._v("Gadgets")]),t._v(" "),s("option",{attrs:{value:"31"}},[t._v("Japanese Anime & Manga")]),t._v(" "),s("option",{attrs:{value:"32"}},[t._v("Cartoon & Animations")])])]),t._v(" "),s("div",{staticClass:"col-sm-12 col-md-3 text-warning"},[t._m(1),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],staticClass:"form-control dropDown",staticStyle:{border:"solid 1px white",color:"blue",background:"black"},attrs:{name:"category_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.level=e.target.multiple?s:s[0]},t.chooseLevel]}},[s("option",[t._v("--- Select Level ---")]),t._v(" "),s("option",{attrs:{value:"",show:""}},[t._v("Random")]),t._v(" "),s("option",{attrs:{value:"easy"}},[t._v("easy")]),t._v(" "),s("option",{attrs:{value:"medium"}},[t._v("medium")]),t._v(" "),s("option",{attrs:{value:"hard"}},[t._v("hard")])])])])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v("  CATEGORY\n    ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fa fa-arrows-v",attrs:{"aria-hidden":"true"}}),t._v("  LEVEL\n    ")])}],D={name:"selector",data(){return{subject:!1,level:!1}},computed:{},methods:{chooseLevel(){this.$emit("setTopic",{level:this.level,subject:this.subject})},chooseSubject(){this.$emit("setTopic",{level:this.level,subject:this.subject})}},components:{}},N=D,G=Object(m["a"])(N,L,O,!1,null,"307d48c2",null),q=G.exports,Y={name:"home",data(){return{stream:window.stream.class,level:!1,subject:!1}},computed:{},methods:{setParams(t){this.subject=t.subject,this.level=t.level,console.log(t)},closeConnection(){window.stream.remoteStream&&window.stream.remoteStream.getTracks().forEach(t=>{console.log(t),t.stop()}),window.stream.localStream&&window.stream.localStream.getTracks().forEach(t=>{console.log(t),t.stop()}),window.stream.localPeer&&(window.stream.localPeer.active=!1),window.stream.remotePeer&&(window.stream.remotePeer=!1),window.stream.connection&&window.stream.connection.destroy(),window.stream={},window.stream.class=!1,this.stream=!1},invite(){let t=(Math.random().toString(36)+"0000000000000000000").substr(2,16),e=document.createElement("div");e.className="col-12";let s=document.createElement("h4");s.textContent="Your Room ID Is:";let a=document.createElement("h3");a.innerHTML='<i class="fa fa-key" aria-hidden="true"></i> &nbsp;'+t;let i=document.createElement("h5");i.innerHTML='<i class="fa fa-user-secret" aria-hidden="true"></i> &nbsp;Make Sure To Notify Your Friend Of Your ID.',i.className="text-warning",e.appendChild(s),e.appendChild(a),e.appendChild(i),swal({icon:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Ficons.iconarchive.com%2Ficons%2Foxygen-icons.org%2Foxygen%2F256%2FApps-preferences-desktop-notification-icon.png&f=1&nofb=1",closeOnClickOutside:!1,content:e,className:"home-swal",buttons:{one:{text:"Cancel",value:!1},zero:{text:"Confirm",value:!0}}}).then(e=>{e?(window.stream.class="inviter",window.stream.myId=t,console.log("home--id->",t),this.startPlay(),swal.close()):(window.stream.class=!1,window.stream.myId=null,swal.close())})},join(){let t=document.createElement("input");t.id="peerId";let e=(Math.random().toString(36)+"0000000000000000000").substr(2,16);swal({title:"Enter The Id Of The Peer You Want To Join",content:t,className:"home-swal",buttons:!0}).then(t=>{let s=document.getElementById("peerId").value;s?(window.stream.class="invitee",window.stream.peerId=s,window.stream.myId=e,Ot.push({name:"game"})):(window.stream.class=!1,window.stream.peerId=null)})},async startPlay(){if(this.subject?this.$store.dispatch("setSubject",this.subject):this.$store.dispatch("setSubject",Math.floor(23*Math.random())+9),this.level)this.$store.dispatch("setLevel",this.level);else{let t=Math.floor(3*Math.random());switch(t){case 0:t="easy";break;case 1:t="medium";break;case 2:t="hard";break;default:t="medium"}this.$store.dispatch("setLevel",t)}if(!window.stream.triviaToken){const t=await fetch("https://opentdb.com/api_token.php?command=request");let e=await t.json();window.stream.triviaToken=e.token}this.subject="",this.level="",Ot.push({name:"game"})}},beforeCreate(){this.$store.commit("clearStream"),this.$store.commit("clearTrivaToken")},created(){console.log(window.stream),window.stream.class&&(this.streamClass=window.stream.class),void 0!=window.stream.localStream&&window.stream.localStream.active&&(this.myStream=window.stream.localStream.active),void 0!=window.stream.remoteStream&&window.stream.remoteStream.active&&(this.peerStream=window.stream.remoteStream.active)},beforeMount(){},mounted(){this.$store.dispatch("loadLeaders")},components:{Selector:q}},R=Y,U=(s("cccb"),Object(m["a"])(R,I,A,!1,null,null,null)),H=U.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"gameFont text-light",staticStyle:{"min-height":"100vh"}},[a("h1",{staticClass:"mt-4"},[t._v("End of Round")]),t._v(" "),t.answer?a("h3",[t._v("\n    You just earned "+t._s(t.points)+" points!\n    "),a("img",{staticClass:"simpleEntrance",staticStyle:{width:"10%","border-radius":"100%"},attrs:{src:s("d7dc"),id:"endCoin"}}),t._v(" "),a("span",{staticClass:"blazingStarText"},[t._v("X "+t._s(t.points))])]):a("div",[a("h3",[t._v("No points this round.")]),t._v(" "),a("img",{staticStyle:{width:"10%","border-radius":"50%"},attrs:{src:s("d500")}})]),t._v(" "),this.answerStreakEarned?a("h3",[t._v("\n    You earned 20 points for a 5-question streak!\n    "),a("img",{staticStyle:{width:"15rem"},attrs:{src:s("95b0")}})]):t._e(),t._v(" "),this.megaStreakEarned?a("h3",[t._v("\n    You earned 100 points for a MEGA-Streak!\n    "),a("img",{staticStyle:{width:"15rem"},attrs:{src:s("95b0")}})]):t._e(),t._v(" "),"invitee"!=t.playerClass?a("div",[a("Selector",{key:"select_home",on:{setTopic:function(e){t.setParams(e)}}})],1):t._e(),t._v(" "),a("div",{staticClass:"row mt-3",staticStyle:{"justify-content":"space-evenly"}},[a("div",{staticClass:"col-5"},["invitee"!=t.playerClass?a("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2",on:{click:function(e){t.startPlay()}}},[t._v("PLAY AGAIN")]):a("span",[t._v("Awaiting Friend...")])]),t._v(" "),a("div",{staticClass:"col-5"},[a("button",{staticClass:"btn btn-block btn-outline-danger bg-dark py-2",on:{click:function(e){t.quit()}}},[t._v("QUIT FOR NOW")])])])]):t._e()},Q=[],V={name:"endgame",data(){return{subject:this.$store.state.subject,category:this.$store.state.trivia.category,level:this.$store.state.level,answer:this.$store.state.answer,profile:this.$store.state.profile,player:this.$store.state.currentPlayer,show:!1,time:new Date,answerStreakEarned:!1,megaStreakEarned:!1,playerClass:window.stream.class}},mounted(){this.$store.dispatch("getTrivia"),this.$store.dispatch("getProfile"),this.$store.dispatch("getCurrentPlayer"),this.$store.dispatch("updateStreak",{id:this.playerid,number:this.addStreak}),this.$store.dispatch("getPoints",{id:this.playerid,points:this.points,streak:this.answerStreak.reg,megaStreak:this.answerStreak.mega}),this.$store.dispatch("updateCategoryStats",this.categoryStats),this.show=!0},computed:{playerid(){return this.$store.state.currentPlayer.profileId},categoryStats(){let t=this.player.categoryStats.findIndex(t=>t.category==this.category),e=this.player,s=this.player.categoryStats.find(t=>t.category==this.category);return void 0!==s?(this.answer?(e.categoryStats[t].attempted++,e.categoryStats[t].correct++):e.categoryStats[t].attempted++,e):void 0===s?(this.answer?e.categoryStats.push({category:this.category,attempted:e.categoryStats.attempted=1,correct:e.categoryStats.correct=1}):e.categoryStats.push({category:this.category,attempted:e.categoryStats.attempted=1,correct:e.categoryStats.correct=0}),e):void 0},checkStreak(){let t=parseInt(this.player.previousDate),e=parseInt(this.player.recentDate),s=new Date(t),a=new Date(e),i=s.getFullYear(),n=a.getFullYear(),r=parseInt(i),o=parseInt(n),l=("0"+(s.getMonth()+1)).slice(-2),c=("0"+(a.getMonth()+1)).slice(-2),d=("0"+s.getDate()).slice(-2),u=("0"+a.getDate()).slice(-2),m=l+d,h=c+u,v=i+l+d,p=n+c+u,g=parseInt(m),w=parseInt(h),f=(parseInt(v),parseInt(p),r==o&&r%4==0&&229==g&&301==w);return o==r+1&&1231==g&&101==w||!f&&228==g&&301==w||r==o&&w==g+1||131==g&&201==w||229==g&&301==w||331==g&&401==w||430==g&&501==w||630==g&&701==w||731==g&&801==w||831==g&&901==w||930==g&&1001==w||1031==g&&1101==w||1130==g&&1201==w?1:0},addStreak(){return 1==this.checkStreak?this.player.timeStreakCount+1:1},gotStreak(){return 0!==this.player.timeStreakCount&&this.player.timeStreakCount%5==0&&20},days(){return this.player.timeStreakCount},answerStreak(){let t=this.$store.state.currentPlayer.megaStreak,e=this.$store.state.currentPlayer.streak,s=this.$store.state.answer,a=0;return s||(e=0,t=0,console.log("answerStreak increased",e)),s&&(e++,console.log("answerStreak increased",e)),5===e&&(this.answerStreakEarned=!0,a+=20,e=0,t++,console.log("Five in a row. You got a streak!",e)),5===t&&(this.megaStreakEarned=!0,a+=100,t=0,console.log("Five streaks in a row. You got a megaStreak!",t)),{reg:e,mega:t,streakPoints:a}},points(){let t=0,e=this.$store.state.trivia.difficulty,s=this.$store.state.answer;return t="easy"==e&&s?5:"medium"==e&&s?10:"hard"==e&&s?20:0,t+this.gotStreak+this.answerStreak.streakPoints}},methods:{setParams(t){this.subject=t.subject,this.level=t.level},startPlay(){this.show=!1,this.subject||(this.subject=Math.floor(23*Math.random())+9),this.subject!=this.$store.state.subject&&this.$store.dispatch("setSubject",this.subject),this.level!=this.$store.state.level&&this.$store.dispatch("setLevel",this.level),this.$emit("init"),this.subject="",this.level=""},quit(){this.show=!1,Ot.push({name:"home"})}},components:{Selector:q}},W=V,z=(s("edfb"),Object(m["a"])(W,B,Q,!1,null,"a52e9624",null)),J=z.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"game"},[s("div",{staticClass:"container-fluid",staticStyle:{"min-height":"100vh"},attrs:{id:"main"}},[s("div",{staticClass:"row",staticStyle:{display:"flex","justify-content":"space-around"}},[t.invitee?s("div",{staticClass:"col-3"},[s("Invitee",{key:"inviteeVideostream",on:{inviteeWorkoutComplete:function(){t.inviteeAct=!0},inviteeWorkout:function(){t.showQuestion=!1,t.exercise=!0},beginPlay:function(e){t.startGame()},init:function(e){t.init()}}}),t._v(" "),t.displayStart?s("button",{staticClass:"btn btn-outline-warning",on:{click:t.startGame}},[t._v("START")]):t._e()],1):t._e(),t._v(" "),t.inviter?s("div",{staticClass:"col-3"},[s("Inviter",{key:"inviterVideostream",on:{beginPlay:function(e){t.startGame()}}}),t._v(" "),t.displayStart?s("button",{staticClass:"btn btn-outline-warning",on:{click:t.startGame}},[t._v("START")]):t._e()],1):t._e(),t._v(" "),t.showQuestion?s("div",{class:t.display},[s("Question",{key:"question",on:{workout:function(e){t.workout()}}})],1):t._e(),t._v(" "),t.exercise?s("div",{class:t.display},[s("Exercise",{key:"workout",on:{workoutcomplete:function(e){t.workoutcomplete()}}})],1):t._e(),t._v(" "),t.answer?s("div",{class:t.display},[s("Answer",{key:"answer",attrs:{inviteeAct:t.inviteeAct},on:{endgame:function(e){t.endgame()}}})],1):t._e(),t._v(" "),t.end?s("div",{class:t.display},[s("Endgame",{key:"endgame",on:{init:function(e){t.init()}}})],1):t._e()])])])},K=[],Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"exercise mt-2"},[t.show?s("div",{staticClass:"card exercise_main",staticStyle:{border:"solid 1px silver"}},[t._m(0),t._v(" "),s("transition",{attrs:{name:"bounce"}},[t.imgExer?s("div",[s("img",{staticClass:"card-img-top mt-1",staticStyle:{"max-width":"100%","max-height":"350px",width:"auto",height:"auto"},attrs:{src:t.exercise.example,alt:"Exercise Example"}})]):t._e()]),t._v(" "),s("div",{staticClass:"card-body"},[s("h2",{staticClass:"card-title"},[t._v(t._s(t.exercise.title))])]),t._v(" "),s("ul",{staticClass:"list-group list-item bg-dark text-light"},[t.exercise.reps?s("li",{staticClass:"list-group-item"},[s("b",[t._v("Repetitions:")]),t._v("\n        "+t._s(t.exercise.reps)+"\n      ")]):t._e(),t._v(" "),t.exercise.time?s("li",{staticClass:"list-group-item"},[s("b",[t._v("Time:")]),t._v("\n        "+t._s(t.exercise.time)+" seconds\n        "),t.exercise.time?s("button",{staticClass:"btn btn-block btn-outline-warning",attrs:{disabled:t.exerciseTimerDisabled},on:{click:function(e){t.exerciseTimer(),t.exerciseTimerDisabled=!0}}},[t._v("Start Timer")]):t._e()]):t._e(),t._v(" "),t.exercise.notes?s("li",{staticClass:"list-group-item"},[s("b",[t._v("Instructions:")]),t._v("\n        "+t._s(t.exercise.notes)+"\n      ")]):t._e()]),t._v(" "),s("div",{staticClass:"card-body"},[t.allowGet?s("button",{staticClass:"btn btn-block btn-outline-info",on:{click:t.getExercise}},[t._v("Get a Different Exercise")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-block btn-outline-success",attrs:{disabled:t.isDisabled},on:{click:t.workOutComplete}},[t._v("Finished!")]),t._v(" "),t.cheatTimer?s("span",[t._v("Cheat Guard: "+t._s(t.cheatTimer))]):t._e()])],1):t._e()])},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h6",{staticClass:"py-1 my-1 text-info bg-dark",staticStyle:{"font-size":"x-large"}},[s("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}}),t._v("  \n      "),s("span",{attrs:{id:"question"}})])}],et={name:"exercise",data:function(){return{allowGet:!0,cheatTimer:1,show:!1,isDisabled:!0,exerciseTimerDisabled:!1,exerciseInterval:null,display:"",imgExer:!1}},beforeDestroy(){this.$store.state.exercise={}},beforeMount(){"invitee"==window.stream.class&&(this.allowGet=!1),this.show=!0},mounted(){document.getElementById("question").innerHTML=this.$store.state.trivia.question,console.log("IN MOUNTED"),this.cheatInterval()},computed:{exercise(){if(this.imgExer=!0,"inviter"==window.stream.class){let t={class:"game",trivia:this.$store.state.trivia,exercise:this.$store.state.exercise};window.stream.connection.send(t)}return this.$store.state.exercise}},methods:{getExercise(){this.imgExer=!1,"inviter"==window.stream.class&&(window.stream.connection.send({class:"message",message:"Peer is fetched a new exercise."}),window.stream.connection.send({class:"getNewExercise"})),this.$store.dispatch("getExercise"),clearInterval(this.exerciseInterval),this.exerciseTimerDisabled=!1,this.isDisabled=!0,0===this.cheatTimer?(this.cheatTimer=15,this.cheatInterval()):this.cheatTimer=15},workOutComplete(){"inviter"==window.stream.class&&window.stream.connection.send({class:"message",message:"Peer has finished their exercise..."}),this.imgExer=!1,setTimeout(()=>{this.show=!1,this.$emit("workoutcomplete",!0)},600)},cheatInterval(){let t=setInterval(e=>{this.cheatTimer--,0===this.cheatTimer&&(clearInterval(t),this.isDisabled=!1)},1e3)},exerciseTimer(){let t=setInterval(e=>{this.exercise.time--,0===this.exercise.time&&clearInterval(t)},1e3);this.exerciseInterval=t}},components:{}},st=et,at=(s("923d"),Object(m["a"])(st,Z,tt,!1,null,"406dfc29",null)),it=at.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"answer"},[t.show?s("div",{staticClass:"row"},[s("div",[t._v(t._s(t.answer()))])]):t._e()])},rt=[],ot={gifs:["https://cdn.dribbble.com/users/706471/screenshots/3660298/brain-workout-2.gif","https://exploringyourmind.com/wp-content/uploads/2018/02/gif-of-a-brain-and-its-synapses.gif","https://www.holisticwebpresence.com/wp-content/uploads/2013/12/Web-Presence-Brain-Training.gif","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.dribbble.com%2Fusers%2F428994%2Fscreenshots%2F4898847%2Fbraintraining_dribble.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.assignmentexpert.com%2Fblog%2Fwp-content%2Fuploads%2F2015%2F05%2F240_Logo-EMM.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.prana-yoga-zentrum.de%2Fimages%2F57.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fneurosynthesis.files.wordpress.com%2F2008%2F10%2Fsmall_brain_animated.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.media.inaf.it%2Fwp-content%2Fuploads%2F2017%2F11%2Fprev-nasa-small.gif&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fl0HU5526qfCzI25Q4%2Fgiphy.gif&f=1&nofb=1","https://upload.wikimedia.org/wikipedia/commons/a/ae/Inferior_frontal_gyrus_animation_small.gif"],getGif:function(){let t=this.gifs[Math.floor(Math.random()*this.gifs.length)];return t}},lt={name:"answer",data:function(){return{show:!1,date:Date.now(),playerid:this.$store.state.currentPlayer.profileId}},methods:{answer(){let t=this.$store.state.trivia.incorrect_answers,e=this.$store.state.trivia.correct_answer,s=document.createElement("div");ot.getGif();s.className="col-12";let a=document.createElement("h4");a.innerHTML=""+this.$store.state.trivia.question,s.appendChild(a),swal({content:s,className:"red-bg",closeOnClickOutside:!1,buttons:{zero:{text:t[0],value:t[0]},two:{text:t[1],value:t[1]},three:{text:t[2],value:t[2]},four:{text:t[3],value:t[3]}}}).then(t=>{if(t==e)swal(e+" Is Correct!","","success").then(()=>{this.$emit("endgame",!0),this.$store.state.answer=!0,swal.close()});else{let t=document.createElement("div");t.className="col-12";let s=document.createElement("h4");s.innerHTML=e+",<br/>is the correct answer!",t.appendChild(s),swal({content:t,icon:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.philgalfond.com%2Fwp-content%2Fuploads%2Fwronganswer-300x300.jpg&f=1&nofb=1",className:"wrong",closeOnClickOutside:!1}).then(()=>{this.$emit("endgame",!0),this.$store.state.answer=!1,swal.close()})}this.show=!1})}},mounted(){this.show=!0,this.$store.dispatch("getCurrentPlayer"),this.$store.dispatch("setDates",{date:this.date,id:this.playerid})}},ct=lt,dt=Object(m["a"])(ct,nt,rt,!1,null,"78832a90",null),ut=dt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question"},[t.show?s("div",{staticClass:"row"},[t._v(t._s(t.swalShow()))]):t._e()])},ht=[],vt={name:"question",data:function(){return{show:!1}},methods:{swalShow:function(){let t=document.createElement("div");t.className="col-12";let e=document.createElement("p");e.innerHTML=`<i class="fa fa-tags" aria-hidden="true"></i> &nbsp;${this.$store.state.trivia.category}<br/><br/><i class="fa fa-arrows-v" aria-hidden="true"></i> &nbsp;${this.$store.state.trivia.difficulty}`,t.appendChild(e);let s=document.createElement("h4");s.innerHTML=""+this.$store.state.trivia.question,t.appendChild(s);let a,i=ot.getGif();a="invitee"===window.stream.class?{quit:{text:"Quit Game",value:!1}}:{quit:{text:"Quit Game",value:!1},startEx:{text:"Start Exercise",value:!0}},swal({content:t,className:"red-bg",icon:i,closeOnClickOutside:!1,buttons:a}).then(t=>{if(t)"inviter"==window.stream.class&&window.stream.connection.send({class:"beginExercise"}),this.show=!1,this.$emit("workout",!0),swal.close();else{if("invitee"==window.stream.class)return void swal.close();this.$emit("init",!1),this.show=!1,swal.close(),this.$router.push({name:"home"})}})}},mounted(){this.show=!0}},pt=vt,gt=(s("da04"),Object(m["a"])(pt,mt,ht,!1,null,"5fabc2d0",null)),wt=gt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inviter text-light mt-2"},[s("p",{staticClass:"py-0 bg-info text-dark"},[s("span",[t._v(t._s(t.me))]),t._v(" "),s("br"),t._v(" "),s("span",{attrs:{id:"myId"}})]),t._v(" "),s("video",{attrs:{autoplay:"true",id:"myVideo",muted:"",controls:"",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1"},domProps:{muted:!0}}),t._v(" "),s("div",[s("p",{staticClass:"py-0 bg-warning text-dark"},[s("span",[t._v(t._s(t.peer))])]),t._v(" "),s("video",{attrs:{autoplay:"true",id:"peerVideo",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1",controls:""}})]),t._v(" "),s("div",{staticClass:"py-1"},[s("button",{staticClass:"btn btn-outline-info btn-sm bg-light",on:{click:function(){t.showAllMsg=!t.showAllMsg,t.showLastMsg=!t.showLastMsg}}},[t.showLastMsg?s("i",{staticClass:"fa fa-comments fa-2x",attrs:{"aria-hidden":"true"}}):s("i",{staticClass:"fa fa-comment fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("br"),t._v(" "),t.showLastMsg?s("p",{staticClass:"bg-dark text-info rounded",attrs:{id:"msgOne"}},[t._v(t._s(t.lastMessage))]):t._e(),t._v(" "),t.showAllMsg?s("textarea",{staticClass:"bg-dark text-info pt-2",attrs:{id:"msgAll"},domProps:{value:t.messageString}}):t._e()])])},_t=[],bt={name:"inviter",data(){return{messageString:"",lastMessage:"No Messages Yet.",showAllMsg:!1,showLastMsg:!0,me:this.$store.state.currentPlayer.name,peer:""}},computed:{},methods:{respondToInvitee(t){let e;try{switch(t.class){case"GET DATA":e={class:"game",trivia:this.$store.state.trivia,exercise:this.$store.state.exercise};break;case"namePlease":e={class:"name",name:this.$store.state.currentPlayer.name};break;case"peerName":return void(this.peer=t.name);case"message":let s=(new Date).toLocaleTimeString(),a=s+" - "+t.message;return this.lastMessage=a,void(this.messageString+=a+"\n");default:e={class:"message",message:"error; make sure to specify class."}}window.stream.connection.send(e)}catch(s){console.log(s)}}},components:{},beforeCreate(){this.displayStart=!0},beforeDestroy(){},mounted(){window.stream.respondToInvitee=this.respondToInvitee,function(){let t=null,e=null,s=null,a=window.stream.myId,i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function n(){if(window.stream.localPeer)try{e=window.stream.localPeer,e.reconnect()}catch(n){console.log(n),e=new Peer(a,{secure:!0,debug:2})}else e=new Peer(a,{secure:!0,debug:2});function i(){s.on("open",(function(){console.log("conn opened"),window.stream.connection=s})),s.on("data",(function(t){window.stream.respondToInvitee(t)})),s.on("close",(function(){console.log("Connection reset. Awaiting connection..."),s=null}))}e.on("open",(function(a){null===e.id?e.id=t:t=e.id,document.getElementById("myId").textContent="My ID: "+e.id,window.stream.localPeer=e,e.on("connection",(function(t){s=t,i()})),e.on("disconnected",(function(){console.log("Connection lost. Please reconnect"),e.id=t,e._lastServerId=t,e.reconnect()})),e.on("close",(function(){s=null,console.log("Connection destroyed")})),e.on("error",(function(t){let s="Error: "+t;console.log(s),e.close()})),e.on("call",(function(t){try{let e=window.stream.localStream;t.answer(e),window.stream.call=t,t.on("stream",(function(t){document.getElementById("peerVideo").srcObject=t,window.stream.remoteStream=t}))}catch(n){console.log("Failed to get/send stream "+n)}}))}))}i({video:!0,audio:!0},(function(t){window.stream.localStream=t,document.getElementById("myVideo").srcObject=t}),(function(t){console.log("Failed to get stream "+t)})),n()}()}},yt=bt,Ct=(s("a515"),Object(m["a"])(yt,ft,_t,!1,null,null,null)),kt=Ct.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invitee text-light mt-2"},[s("p",{staticClass:"py-0 bg-info text-dark"},[s("span",[t._v(t._s(t.me))])]),t._v(" "),s("video",{attrs:{autoplay:"true",id:"myVideo",muted:"",controls:"",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1"},domProps:{muted:!0}}),t._v(" "),s("div",[s("p",{staticClass:"py-0 bg-warning text-dark"},[s("span",[t._v(t._s(t.peer))])]),t._v(" "),s("video",{attrs:{autoplay:"true",id:"peerVideo",poster:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2Fi3pHUtmHiLd28%2Fgiphy.gif&f=1&nofb=1",controls:""}})]),t._v(" "),s("div",{staticClass:"py-1"},[s("button",{staticClass:"btn btn-outline-info btn-sm bg-light",on:{click:function(){t.showAllMsg=!t.showAllMsg,t.showLastMsg=!t.showLastMsg}}},[t.showLastMsg?s("i",{staticClass:"fa fa-comments fa-2x",attrs:{"aria-hidden":"true"}}):s("i",{staticClass:"fa fa-comment fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("br"),t._v(" "),t.showLastMsg?s("p",{staticClass:"bg-dark text-info rounded",attrs:{id:"msgOne"}},[t._v(t._s(t.lastMessage))]):t._e(),t._v(" "),t.showAllMsg?s("textarea",{staticClass:"bg-dark text-info pt-2",attrs:{id:"msgAll"},domProps:{value:t.messageString}}):t._e()])])},St=[],$t={name:"invitee",data(){return{messageString:"",lastMessage:"No Messages Yet.",showAllMsg:!1,showLastMsg:!0,me:this.$store.state.currentPlayer.name,peer:""}},computed:{},methods:{respondToInviter(t){switch(t.class){case"game":this.$store.dispatch("inviteeExercise",t.exercise),this.$store.dispatch("inviteeTrivia",t.trivia);break;case"beginExercise":swal.close(),this.$emit("inviteeWorkout");break;case"workoutComplete":this.$emit("inviteeWorkoutComplete");break;case"replay":this.$emit("init");break;case"message":let e=(new Date).toLocaleTimeString(),s=e+" - "+t.message;this.lastMessage=s,this.messageString+=s+"\n";break;case"name":this.peer=t.name;let a=this.me;window.stream.connection.send({class:"peerName",name:a});break;default:console.log(t)}}},components:{},beforeDestroy(){},mounted(){window.stream.respondToInviter=this.respondToInviter,function(){let t=null,e=null,s=null,a=window.stream.peerId,i=null,n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function r(){if(window.stream.localPeer)try{e=window.stream.localPeer,e.reconnect()}catch(a){e=new Peer(null,{secure:!0,debug:2})}else e=new Peer(null,{secure:!0,debug:2});e.on("open",(function(i){null===e.id?(console.log("Received null id from peer open"),e.id=t):(console.log("receieved peer.id"),t=e.id,e.on("disconnected",(function(){console.log("Connection lost. Please reconnect").then(t=>{e.id=window.stream.localId,e._lastServerId=window.stream.localId,e.reconnect(),console.log.close()})})),e.on("close",(function(){s=null,console.log("Connection destroyed. Please refresh"),console.log("Connection destroyed")})),e.on("error",(function(t){console.log(t),console.log(""+t)})),e.on("call",(function(t){try{let e=window.stream.localStream;t.answer(e)}catch(a){console.log("Failed to get/send stream",a)}})),console.log(e.id),o())}))}function o(){s=e.connect(a,{reliable:!0}),s.on("open",(function(){console.log("Connected to: "+s.peer),window.stream.connection=s,s.send({class:"GET DATA"}),s.send({class:"namePlease"});let t=l("command");t&&s.send(t)})),s.on("data",(function(t){console.log("INVITEE REC'D DATA->",t),window.stream.respondToInviter(t)})),s.on("close",(function(){console.log("Connection closed")})),i=e.call(a,window.stream.localStream),i.on("stream",(function(t){window.stream.call=i,window.stream.remoteStream=t,document.getElementById("peerVideo").srcObject=t}))}function l(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t+"=([^&#]*)",s=new RegExp(e),a=s.exec(window.location.href);return null==a?null:a[1]}n({video:!0,audio:!0},(function(t){window.stream.localStream=t,document.getElementById("myVideo").srcObject=t}),(function(t){console.log("Failed to get stream",t)})),r()}()}},Et=$t,Pt=(s("bb52"),Object(m["a"])(Et,xt,St,!1,null,null,null)),Tt=Pt.exports,Ft={name:"game",data(){return{test:null,answer:!1,exercise:!1,end:!1,showQuestion:!1,inviter:!1,invitee:!1,inviteeAct:!1,displayStart:!0}},computed:{},methods:{startGame(){this.showQuestion=!0,this.displayStart=!1},workoutcomplete(t){this.exercise=!1,this.answer=!0},workout(t){this.showQuestion=!1,this.exercise=!0},init(t){"invitee"!=window.stream.class&&(this.begin(),"inviter"==window.stream.class&&window.stream.connection.send({class:"replay"})),this.displayStart=!0,this.end=!1,this.showQuestion=!1,this.exercise=!1},endgame(t){this.answer=!1,this.end=!0},async begin(){this.$store.dispatch("getExercise");let t=this.$store.state.subject,e=this.$store.state.level,s=[],a=window.stream.triviaToken;const i=await fetch(`https://opentdb.com/api.php?amount=1&category=${t}&difficulty=${e}&type=multiple&token=${a}`);let n=await i.json();n=n.results[0];for(let r in n)Array.isArray(n[r])?n[r].forEach((t,e,s)=>{s[e]=t}):n[r]=n[r];s=n.incorrect_answers,s.push(n.correct_answer),s.forEach((t,e,s)=>{let a=Math.floor(s.length*Math.random()),i=s[a];s[a]=t,s[e]=i}),n.incorrect_answers=s,this.$store.commit("setTrivia",n),stream.class||(this.showQuestion=!0)}},beforeMount(){console.log(window.stream.class),"inviter"==window.stream.class?(this.inviter=!0,this.begin(),this.display="col-9"):"invitee"==window.stream.class?(this.invitee=!0,this.display="col-9"):(this.display="col-12",this.begin())},beforeDestroy(){},components:{Exercise:it,Answer:ut,Question:wt,Endgame:J,Inviter:kt,Invitee:Tt}},Mt=Ft,jt=(s("568f"),Object(m["a"])(Mt,X,K,!1,null,null,null)),It=jt.exports;s("4be7");a["a"].use(j["a"]);const At=[{path:"/",name:"home",component:H},{path:"/endgame",name:"endgame",component:J},{path:"/game",name:"game",component:It},{path:"*",redirect:"/"}],Lt=new j["a"]({routes:At});var Ot=Lt,Dt=s("2f62");let Nt=location.host.includes("localhost")?"http://localhost:3000/":"/";const Gt=C.a.create({baseURL:Nt+"api",timeout:3e3,withCredentials:!0});var qt={actions:{getAnswer({commit:t,dispatch:e,state:s}){return s.answer}}},Yt={actions:{async getExercise({commit:t,dispatch:e}){try{let e=await Gt.get("/exercises/random");return t("setExercise",e.data[0]),e.data[0]}catch(s){console.error(s)}}}},Rt={actions:{async loadLeaders({commit:t,dispatch:e,state:s}){let a=await Gt.get("players/gettop");console.log("hello from loadLeaders"),t("setLeaders",a.data)},getLeaders({commit:t,dispatch:e,state:s}){return s.leaders}}},Ut={actions:{setLevel({commit:t,dispatch:e,state:s},a){t("setLevel",a)}}},Ht={actions:{setSubject({commit:t,dispatch:e,state:s},a){t("setSubject",a)}}},Bt={actions:{getTrivia({commit:t,dispatch:e,state:s}){return s.trivia}}};a["a"].use(Dt["a"]);var Qt=new Dt["a"].Store({state:{trivia:{},exercise:{},profile:{},leaders:[],user:{},currentPlayer:{},stream:{class:!1,user:{id:null},peer:{id:null}},level:null,subject:null,answer:null,triviaToken:""},mutations:{clearStream(t){t.stream.class=!1,t.stream.user.id=null,t.stream.peer.id=null},setProfile(t,e){t.profile=e},setExercise(t,e){t.exercise=e},setSubject(t,e){t.subject=e},setLevel(t,e){t.level=e},setTrivia(t,e){t.trivia=e},setLeaders(t,e){t.leaders=e},setCurrentPlayer(t,e){t.currentPlayer=e},setTriviaToken(t,e){t.trivia.token=e},clearTrivaToken(t){t.triviaToken=""}},actions:{setBearer({},t){Gt.defaults.headers.authorization=t},resetBearer(){Gt.defaults.headers.authorization=""},async getProfile({commit:t,dispatch:e,state:s}){try{let s=await Gt.get("/profile");await t("setProfile",s.data),e("getCurrentPlayer")}catch(a){console.error(a)}},inviteeExercise({commit:t},e){t("setExercise",e)},inviteeTrivia({commit:t},e){t("setTrivia",e)},async getCurrentPlayer({commit:t,dispatch:e,state:s}){try{let e=await Gt.get("players/"+s.profile.id);t("setCurrentPlayer",e.data)}catch(a){e("newPlayer",{id:s.profile.id,name:s.profile.name}),console.error(a)}},async getPoints({commit:t,dispatch:e,state:s},a){console.log("hello from getPoints");try{let t=await Gt.get("players/"+a.id);e("updatePoints",{id:a.id,oldPoints:t.data.points,newPoints:a.points,streak:a.streak,megaStreak:a.megaStreak,categoryStats:[{category:a.category,correct:a.correct,attempted:a.attempted}]})}catch(i){console.error(i)}},async setDates({commit:t,dispatch:e,state:s},a){try{await Gt.put("players/"+a.id,{previousDate:s.currentPlayer.recentDate,recentDate:a.date});e("getCurrentPlayer"),console.log(s.currentPlayer)}catch(i){console.error(i)}},async checkPlayer({commit:t,dispatch:e,state:s},a){try{await Gt.get("players/"+a.data.id);e("getPoints",a)}catch(i){e("newPlayer",a),console.error(i)}},async newPlayer({commit:t,dispatch:e,state:s},a){console.log("hello from newPlayer");try{let e=await Gt.post("players",{name:a.name,points:0,profileId:a.id,previousDate:0,recentDate:0,timeStreakCount:1,streak:0,megaStreak:0,categoryStats:[]});t("setCurrentPlayer",e.data)}catch(i){console.error(i)}},async updatePoints({commit:t,dispatch:e,state:s},a){console.log("hello from updatePoints");try{await Gt.put("players/"+a.id,{points:a.oldPoints+a.newPoints,streak:a.streak,megaStreak:a.megaStreak});e("loadLeaders"),e("getCurrentPlayer")}catch(i){console.error(i)}},async updateCategoryStats({commit:t,dispatch:e,state:s},a){try{await Gt.put("players/"+a.profileId,{categoryStats:a.categoryStats});e("getCurrentPlayer")}catch(i){console.error(i)}},async updateStreak({commit:t,dispatch:e,state:s},a){try{await Gt.put("players/"+a.id,{timeStreakCount:a.number});e("getCurrentPlayer")}catch(i){console.error(i)}}},modules:{answer:qt,exercise:Yt,leaders:Rt,level:Ut,subject:Ht,trivia:Bt}});const Vt="oliverjones.us.auth0.com",Wt="https://mindyourbody.com",zt="9Hfr9hkjFCWiEwb0A9YmKNkh1fXJG83p";a["a"].use(E["a"],{domain:Vt,clientId:zt,audience:Wt,onRedirectCallback:t=>{Ot.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:Ot,store:Qt,render:function(t){return t(M)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),i=s.n(a);i.a},"5ced":function(t,e,s){},"5e11":function(t,e){function s(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id="5e11"},"5f9b":function(t,e,s){t.exports=s.p+"img/home2.73746289.gif"},"6c9d":function(t,e,s){},"923d":function(t,e,s){"use strict";var a=s("1ae4"),i=s.n(a);i.a},"95b0":function(t,e,s){t.exports=s.p+"img/coin.cc0c24bd.gif"},"9c0c":function(t,e,s){},a05d:function(t,e,s){},a515:function(t,e,s){"use strict";var a=s("e47c"),i=s.n(a);i.a},bb52:function(t,e,s){"use strict";var a=s("a05d"),i=s.n(a);i.a},c457:function(t,e,s){},cccb:function(t,e,s){"use strict";var a=s("5ced"),i=s.n(a);i.a},d44a:function(t,e,s){},d500:function(t,e,s){t.exports=s.p+"img/endWrong.97849115.gif"},d7dc:function(t,e,s){t.exports=s.p+"img/spin.767c2065.gif"},da04:function(t,e,s){"use strict";var a=s("6c9d"),i=s.n(a);i.a},e47c:function(t,e,s){},edfb:function(t,e,s){"use strict";var a=s("d44a"),i=s.n(a);i.a}});